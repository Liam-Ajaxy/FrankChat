const a0_0xb758fb=a0_0x4f0b;(function(_0x58301b,_0x42e0b9){const _0x5d0ed2=a0_0x4f0b,_0x33d245=_0x58301b();while(!![]){try{const _0x3b6ae8=-parseInt(_0x5d0ed2(0x17a))/0x1+parseInt(_0x5d0ed2(0x253))/0x2*(parseInt(_0x5d0ed2(0x227))/0x3)+-parseInt(_0x5d0ed2(0x20d))/0x4*(parseInt(_0x5d0ed2(0x307))/0x5)+parseInt(_0x5d0ed2(0x1e9))/0x6+-parseInt(_0x5d0ed2(0x159))/0x7+-parseInt(_0x5d0ed2(0x2b1))/0x8*(-parseInt(_0x5d0ed2(0x1e6))/0x9)+-parseInt(_0x5d0ed2(0x11f))/0xa*(parseInt(_0x5d0ed2(0x1ab))/0xb);if(_0x3b6ae8===_0x42e0b9)break;else _0x33d245['push'](_0x33d245['shift']());}catch(_0x14a49f){_0x33d245['push'](_0x33d245['shift']());}}}(a0_0x317e,0x3e9aa));const state={'token':localStorage[a0_0xb758fb(0x1f0)](a0_0xb758fb(0x280))||null,'user':JSON[a0_0xb758fb(0x23e)](localStorage[a0_0xb758fb(0x1f0)](a0_0xb758fb(0x184))||a0_0xb758fb(0x1ce)),'conversations':[],'currentConversation':null,'currentView':a0_0xb758fb(0x20a),'users':[],'messages':{},'socket':null,'typingTimeouts':{}},isDev=window[a0_0xb758fb(0x2cc)][a0_0xb758fb(0x2f4)]===a0_0xb758fb(0x11e)||window['location'][a0_0xb758fb(0x2f4)]===a0_0xb758fb(0x178),API_URL=isDev?'http://localhost:3000/api':a0_0xb758fb(0x1af),SOCKET_URL=isDev?a0_0xb758fb(0x14d):'https://frankchat-pi4x.onrender.com';function validateUsername(_0x2bf4bf){const _0x191506=a0_0xb758fb;if(_0x2bf4bf[_0x191506(0x2ab)]<0x3||_0x2bf4bf[_0x191506(0x2ab)]>0x14)return{'valid':![],'error':'Username\x20must\x20be\x203-20\x20characters'};const _0x5c5ea4=/^[a-zA-Z0-9_-]+$/;if(!_0x5c5ea4[_0x191506(0x1e4)](_0x2bf4bf))return{'valid':![],'error':'Username\x20can\x20only\x20contain\x20letters,\x20numbers,\x20underscore,\x20and\x20hyphen'};if(!/^[a-zA-Z0-9]/[_0x191506(0x1e4)](_0x2bf4bf))return{'valid':![],'error':'Username\x20must\x20start\x20with\x20a\x20letter\x20or\x20number'};return{'valid':!![]};}document[a0_0xb758fb(0x21a)](a0_0xb758fb(0x2b0),()=>{state['token']&&state['user']&&initializeChat();});function showLoading(_0xfebd3b=a0_0xb758fb(0x2a3)){const _0xcf98f6=a0_0xb758fb;let _0x14c013=document[_0xcf98f6(0x129)](_0xcf98f6(0x122));if(!_0x14c013){_0x14c013=document[_0xcf98f6(0x1b7)]('div'),_0x14c013['id']=_0xcf98f6(0x122),_0x14c013[_0xcf98f6(0x2c8)][_0xcf98f6(0x1cc)]=_0xcf98f6(0x2df),_0x14c013[_0xcf98f6(0x250)]=_0xcf98f6(0x15a)+_0xfebd3b+_0xcf98f6(0x207);if(!document['getElementById']('spinnerAnimation')){const _0x5ca565=document[_0xcf98f6(0x1b7)](_0xcf98f6(0x2c8));_0x5ca565['id']=_0xcf98f6(0x1d9),_0x5ca565[_0xcf98f6(0x1ea)]=_0xcf98f6(0x301),document[_0xcf98f6(0x1b4)][_0xcf98f6(0x26d)](_0x5ca565);}document[_0xcf98f6(0x209)][_0xcf98f6(0x26d)](_0x14c013);}else _0x14c013['style']['display']=_0xcf98f6(0x1f1),document[_0xcf98f6(0x129)]('loadingMessage')['textContent']=_0xfebd3b;}function hideLoading(){const _0x471cde=a0_0xb758fb,_0xe19312=document[_0x471cde(0x129)](_0x471cde(0x122));_0xe19312&&(_0xe19312['style'][_0x471cde(0x1fb)]=_0x471cde(0x299));}function showAuthModal(_0x577655){const _0x33e11b=a0_0xb758fb,_0x25a85f=document[_0x33e11b(0x129)](_0x33e11b(0x25d));_0x25a85f['classList'][_0x33e11b(0x27d)](_0x33e11b(0x213)),switchAuthTab(_0x577655);}function closeAuthModal(){const _0x345490=a0_0xb758fb;document[_0x345490(0x129)]('authModal')[_0x345490(0x118)][_0x345490(0x2f5)]('active'),document[_0x345490(0x129)](_0x345490(0x10d))['classList']['remove']('active'),document[_0x345490(0x129)](_0x345490(0x164))[_0x345490(0x118)][_0x345490(0x2f5)](_0x345490(0x213)),document['getElementById'](_0x345490(0x136))[_0x345490(0x2fa)](),document[_0x345490(0x129)](_0x345490(0x135))[_0x345490(0x2fa)]();}function switchAuthTab(_0x4cf081){const _0x237aad=a0_0xb758fb,_0x4ce893=document[_0x237aad(0x129)](_0x237aad(0x114)),_0x46d7d1=document[_0x237aad(0x129)](_0x237aad(0x297)),_0x32bf5c=document[_0x237aad(0x129)](_0x237aad(0x136)),_0x26a589=document[_0x237aad(0x129)](_0x237aad(0x135));_0x4cf081===_0x237aad(0x2f3)?(_0x4ce893[_0x237aad(0x118)]['add'](_0x237aad(0x213)),_0x46d7d1[_0x237aad(0x118)][_0x237aad(0x2f5)](_0x237aad(0x213)),_0x32bf5c[_0x237aad(0x2c8)]['display']=_0x237aad(0x10c),_0x26a589[_0x237aad(0x2c8)]['display']='none'):(_0x4ce893[_0x237aad(0x118)][_0x237aad(0x2f5)](_0x237aad(0x213)),_0x46d7d1[_0x237aad(0x118)][_0x237aad(0x27d)]('active'),_0x32bf5c['style'][_0x237aad(0x1fb)]='none',_0x26a589['style'][_0x237aad(0x1fb)]='block');}document[a0_0xb758fb(0x129)](a0_0xb758fb(0x136))[a0_0xb758fb(0x21a)]('submit',async _0x721e8f=>{const _0x32b9b9=a0_0xb758fb;_0x721e8f[_0x32b9b9(0x264)]();const _0x4f7b4d=document[_0x32b9b9(0x129)](_0x32b9b9(0x156))[_0x32b9b9(0x1cb)][_0x32b9b9(0x2be)](),_0x2330e3=document[_0x32b9b9(0x129)](_0x32b9b9(0x2f2))[_0x32b9b9(0x1cb)],_0x4c0c2b=document[_0x32b9b9(0x129)](_0x32b9b9(0x10d));showLoading('Signing\x20in...');try{const _0x4a5631=await fetch(API_URL+_0x32b9b9(0x28b),{'method':_0x32b9b9(0x237),'headers':{'Content-Type':'application/json'},'body':JSON[_0x32b9b9(0x1b1)]({'username':_0x4f7b4d,'password':_0x2330e3})}),_0x305ded=await _0x4a5631[_0x32b9b9(0x252)]();if(!_0x4a5631['ok']){hideLoading(),_0x4c0c2b[_0x32b9b9(0x1ea)]=_0x305ded[_0x32b9b9(0x1ed)]||_0x32b9b9(0x274),_0x4c0c2b[_0x32b9b9(0x118)][_0x32b9b9(0x27d)]('active');return;}state[_0x32b9b9(0x280)]=_0x305ded['token'],state[_0x32b9b9(0x184)]=_0x305ded[_0x32b9b9(0x184)],localStorage[_0x32b9b9(0x18a)](_0x32b9b9(0x280),_0x305ded[_0x32b9b9(0x280)]),localStorage[_0x32b9b9(0x18a)]('user',JSON[_0x32b9b9(0x1b1)](_0x305ded[_0x32b9b9(0x184)])),closeAuthModal(),await initializeChat(),hideLoading();}catch(_0x511ee2){hideLoading(),_0x4c0c2b[_0x32b9b9(0x1ea)]=_0x32b9b9(0x1b5),_0x4c0c2b[_0x32b9b9(0x118)][_0x32b9b9(0x27d)](_0x32b9b9(0x213));}}),document['getElementById'](a0_0xb758fb(0x135))[a0_0xb758fb(0x21a)](a0_0xb758fb(0x152),async _0x10a89e=>{const _0x3e2e0f=a0_0xb758fb;_0x10a89e[_0x3e2e0f(0x264)]();const _0x3cd3c5=document['getElementById'](_0x3e2e0f(0x232))[_0x3e2e0f(0x1cb)][_0x3e2e0f(0x2be)](),_0x1e2b81=document[_0x3e2e0f(0x129)](_0x3e2e0f(0x128))['value'],_0x1350f5=document[_0x3e2e0f(0x129)](_0x3e2e0f(0x133))[_0x3e2e0f(0x1cb)],_0x2015f6=document['getElementById'](_0x3e2e0f(0x164)),_0x475de2=validateUsername(_0x3cd3c5);if(!_0x475de2[_0x3e2e0f(0x14a)]){_0x2015f6['textContent']=_0x475de2[_0x3e2e0f(0x1ed)],_0x2015f6[_0x3e2e0f(0x118)][_0x3e2e0f(0x27d)](_0x3e2e0f(0x213));return;}if(_0x1e2b81!==_0x1350f5){_0x2015f6[_0x3e2e0f(0x1ea)]='Passwords\x20do\x20not\x20match',_0x2015f6['classList'][_0x3e2e0f(0x27d)](_0x3e2e0f(0x213));return;}showLoading(_0x3e2e0f(0x107));try{const _0x2735f2=await fetch(API_URL+_0x3e2e0f(0x29a),{'method':_0x3e2e0f(0x237),'headers':{'Content-Type':_0x3e2e0f(0x229)},'body':JSON['stringify']({'username':_0x3cd3c5,'password':_0x1e2b81})}),_0x1744e1=await _0x2735f2[_0x3e2e0f(0x252)]();if(!_0x2735f2['ok']){hideLoading(),_0x2015f6[_0x3e2e0f(0x1ea)]=_0x1744e1[_0x3e2e0f(0x1ed)]||_0x3e2e0f(0x283),_0x2015f6[_0x3e2e0f(0x118)][_0x3e2e0f(0x27d)](_0x3e2e0f(0x213));return;}state[_0x3e2e0f(0x280)]=_0x1744e1['token'],state['user']=_0x1744e1[_0x3e2e0f(0x184)],localStorage[_0x3e2e0f(0x18a)](_0x3e2e0f(0x280),_0x1744e1[_0x3e2e0f(0x280)]),localStorage[_0x3e2e0f(0x18a)](_0x3e2e0f(0x184),JSON[_0x3e2e0f(0x1b1)](_0x1744e1[_0x3e2e0f(0x184)])),closeAuthModal(),await initializeChat(),hideLoading();}catch(_0x43eb4c){hideLoading(),_0x2015f6[_0x3e2e0f(0x1ea)]=_0x3e2e0f(0x1b5),_0x2015f6['classList']['add'](_0x3e2e0f(0x213));}});async function initializeChat(){const _0xa94456=a0_0xb758fb;showLoading(_0xa94456(0x1f6)),document[_0xa94456(0x129)](_0xa94456(0x2d2))['style'][_0xa94456(0x1fb)]=_0xa94456(0x299),document['getElementById'](_0xa94456(0x1bb))[_0xa94456(0x2c8)]['display']=_0xa94456(0x1f8);const _0x3a1401=document['getElementById'](_0xa94456(0x1a7)),_0x54eb95=document[_0xa94456(0x129)]('sidebarAvatar');if(_0x3a1401)_0x3a1401[_0xa94456(0x1ea)]=state['user'][_0xa94456(0x224)];if(_0x54eb95)_0x54eb95['textContent']=state[_0xa94456(0x184)]['avatar'];const _0x5099b0=document[_0xa94456(0x129)]('navAvatar');if(_0x5099b0)_0x5099b0[_0xa94456(0x1ea)]=state[_0xa94456(0x184)][_0xa94456(0x309)];initializeSocket(),await loadConversations(),await loadUsers(),updateUnreadBadges(),addMessageActionSocketListeners();if(state[_0xa94456(0x184)][_0xa94456(0x226)]&&state[_0xa94456(0x184)]['settings'][_0xa94456(0x16b)]==='dark'){document[_0xa94456(0x200)][_0xa94456(0x288)]('data-theme',_0xa94456(0x2c3));const _0x390954=document[_0xa94456(0x129)](_0xa94456(0x2a7));if(_0x390954)_0x390954[_0xa94456(0x1cb)]='dark';}const _0x38c1ae=document['getElementById'](_0xa94456(0x272));_0x38c1ae&&state[_0xa94456(0x184)]['settings']&&(_0x38c1ae[_0xa94456(0x1e3)]=state[_0xa94456(0x184)][_0xa94456(0x226)]['notifications']),hideLoading();}function initializeSocket(){const _0x5f1c4f=a0_0xb758fb;state[_0x5f1c4f(0x2bb)]=io(SOCKET_URL,{'auth':{'token':state[_0x5f1c4f(0x280)]}}),state[_0x5f1c4f(0x2bb)]['on'](_0x5f1c4f(0x261),()=>{const _0x4100e0=_0x5f1c4f;console[_0x4100e0(0x1d1)]('✅\x20Connected\x20to\x20socket');}),state[_0x5f1c4f(0x2bb)]['on']('newMessage',_0x4a5175=>{handleNewMessage(_0x4a5175);}),state[_0x5f1c4f(0x2bb)]['on'](_0x5f1c4f(0x29d),({userId:_0x56e160,status:_0x2c0388,lastSeen:_0x1545ee})=>{updateUserStatus(_0x56e160,_0x2c0388,_0x1545ee);}),state[_0x5f1c4f(0x2bb)]['on'](_0x5f1c4f(0x1d5),({userId:_0x49d7a2,username:_0x5edf3b,conversationId:_0x231753,isTyping:_0x352504})=>{handleTypingIndicator(_0x49d7a2,_0x5edf3b,_0x231753,_0x352504);}),state[_0x5f1c4f(0x2bb)]['on'](_0x5f1c4f(0x2ff),_0x4d9b08=>{addConversation(_0x4d9b08);}),state[_0x5f1c4f(0x2bb)]['on'](_0x5f1c4f(0x2f9),({conversationId:_0x4cc0a3,userId:_0x595b89})=>{markMessagesAsRead(_0x4cc0a3,_0x595b89);}),addMessageActionSocketListeners();}async function loadConversations(){const _0x215d49=a0_0xb758fb;try{const _0x66ce38=await fetch(API_URL+'/conversations',{'headers':{'Authorization':_0x215d49(0x240)+state[_0x215d49(0x280)]}});if(!_0x66ce38['ok'])throw new Error('Failed\x20to\x20load\x20conversations');state[_0x215d49(0x196)]=await _0x66ce38['json'](),renderConversations();}catch(_0x149e97){console[_0x215d49(0x1ed)](_0x215d49(0x1bd),_0x149e97);}}function renderConversations(){const _0x2090e4=a0_0xb758fb,_0x2cb584=document['getElementById']('conversationsList'),_0x2795d5=document[_0x2090e4(0x129)](_0x2090e4(0x180)),_0x52747c=_0x2795d5?_0x2795d5['value']['toLowerCase']():'';let _0x5f2605=state[_0x2090e4(0x196)][_0x2090e4(0x124)](_0x1dafd9=>{const _0x4e2145=_0x2090e4,_0x5003d4=getConversationName(_0x1dafd9)['toLowerCase'](),_0x4a0dab=_0x5003d4[_0x4e2145(0x2af)](_0x52747c);if(!_0x4a0dab)return![];if(state[_0x4e2145(0x10a)]==='groups')return _0x1dafd9[_0x4e2145(0x23a)]==='group';else{if(state[_0x4e2145(0x10a)]===_0x4e2145(0x290)){const _0x4acb01=_0x1dafd9[_0x4e2145(0x26a)]?.[state[_0x4e2145(0x184)]['id']]||0x0;return _0x4acb01>0x0;}}return!![];});const _0x27184e=_0x2cb584[_0x2090e4(0x197)](_0x2090e4(0x147));if(_0x27184e)_0x27184e[_0x2090e4(0x2f5)]();if(_0x5f2605[_0x2090e4(0x2ab)]===0x0){let _0x4564ba=_0x2090e4(0x24a);if(state[_0x2090e4(0x10a)]===_0x2090e4(0x2d8))_0x4564ba=_0x2090e4(0x22b);if(state['currentView']===_0x2090e4(0x290))_0x4564ba=_0x2090e4(0x1d3);_0x2cb584[_0x2090e4(0x250)]='<div\x20style=\x22padding:\x2020px;\x20text-align:\x20center;\x20color:\x20var(--text-light);\x22>'+_0x4564ba+_0x2090e4(0x2fe);return;}_0x2cb584[_0x2090e4(0x250)]=_0x5f2605[_0x2090e4(0x10e)](_0x257870=>{const _0x2e255b=_0x2090e4,_0x3ea987=getConversationName(_0x257870),_0xa35fcb=getConversationAvatar(_0x257870),_0x146172=_0x257870[_0x2e255b(0x11b)],_0x584868=_0x257870[_0x2e255b(0x26a)]?.[state[_0x2e255b(0x184)]['id']]||0x0,_0x2c9cc8=state[_0x2e255b(0x138)]?.['_id']===_0x257870[_0x2e255b(0x1dc)];let _0x4d9282=_0x2e255b(0x24d);if(_0x146172){const _0x17d753=escapeHtml(_0x146172[_0x2e255b(0x17b)]);_0x4d9282=_0x17d753[_0x2e255b(0x2ab)]>0x28?_0x17d753[_0x2e255b(0x154)](0x0,0x28)+_0x2e255b(0x179):_0x17d753;}return _0x2e255b(0x262)+(_0x2c9cc8?_0x2e255b(0x213):'')+_0x2e255b(0x294)+_0x257870['_id']+_0x2e255b(0x1df)+_0xa35fcb+_0x2e255b(0x24f)+_0x3ea987+_0x2e255b(0x1ba)+(_0x146172?formatTime(_0x146172[_0x2e255b(0x19b)]):'')+_0x2e255b(0x1c1)+_0x4d9282+_0x2e255b(0x1e5)+(_0x584868>0x0?_0x2e255b(0x246)+_0x584868+_0x2e255b(0x2fe):'')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';})[_0x2090e4(0x2ea)](''),updateUnreadBadges();}function getConversationName(_0x295a4e){const _0x16c7a9=a0_0xb758fb;if(_0x295a4e[_0x16c7a9(0x23a)]==='group')return _0x295a4e[_0x16c7a9(0x10b)]||_0x16c7a9(0x146);const _0xd7a937=_0x295a4e['participants'][_0x16c7a9(0x16d)](_0x4f087f=>_0x4f087f[_0x16c7a9(0x1dc)]!==state[_0x16c7a9(0x184)]['id']);return _0xd7a937?_0xd7a937[_0x16c7a9(0x224)]:_0x16c7a9(0x1a6);}function getConversationAvatar(_0x1c6e4e){const _0x49fa87=a0_0xb758fb;if(_0x1c6e4e[_0x49fa87(0x23a)]==='group')return _0x1c6e4e[_0x49fa87(0x10b)]?_0x1c6e4e[_0x49fa87(0x10b)][_0x49fa87(0x154)](0x0,0x2)['toUpperCase']():'GC';const _0x1a524e=_0x1c6e4e[_0x49fa87(0x181)][_0x49fa87(0x16d)](_0xbb1837=>_0xbb1837[_0x49fa87(0x1dc)]!==state[_0x49fa87(0x184)]['id']);return _0x1a524e?_0x1a524e[_0x49fa87(0x309)]:'U';}function addConversation(_0xad52e2){const _0x30c45b=a0_0xb758fb,_0x27f96e=state['conversations'][_0x30c45b(0x16d)](_0x945a8c=>_0x945a8c[_0x30c45b(0x1dc)]===_0xad52e2[_0x30c45b(0x1dc)]);!_0x27f96e&&(state['conversations'][_0x30c45b(0x1d6)](_0xad52e2),renderConversations());}function updateUnreadBadges(){const _0x1ec3e4=a0_0xb758fb,_0x20ea5f=state[_0x1ec3e4(0x196)][_0x1ec3e4(0x1b0)]((_0x18d677,_0x5cb1cb)=>{const _0x233548=_0x1ec3e4;return _0x18d677+(_0x5cb1cb[_0x233548(0x26a)]?.[state['user']['id']]||0x0);},0x0),_0x3a41f3=state[_0x1ec3e4(0x196)][_0x1ec3e4(0x124)](_0x4c1372=>_0x4c1372[_0x1ec3e4(0x23a)]==='group')[_0x1ec3e4(0x1b0)]((_0x175cf7,_0x5cce75)=>{const _0x152951=_0x1ec3e4;return _0x175cf7+(_0x5cce75[_0x152951(0x26a)]?.[state[_0x152951(0x184)]['id']]||0x0);},0x0),_0x4a949d=document[_0x1ec3e4(0x129)]('chatsBadge'),_0x187b2b=document['getElementById'](_0x1ec3e4(0x27f)),_0xf10acf=document[_0x1ec3e4(0x129)](_0x1ec3e4(0x255));_0x4a949d&&(_0x20ea5f>0x0?(_0x4a949d[_0x1ec3e4(0x1ea)]=_0x20ea5f,_0x4a949d['style'][_0x1ec3e4(0x1fb)]=_0x1ec3e4(0x1f1)):_0x4a949d['style'][_0x1ec3e4(0x1fb)]=_0x1ec3e4(0x299)),_0x187b2b&&(_0x3a41f3>0x0?(_0x187b2b[_0x1ec3e4(0x1ea)]=_0x3a41f3,_0x187b2b[_0x1ec3e4(0x2c8)][_0x1ec3e4(0x1fb)]='flex'):_0x187b2b[_0x1ec3e4(0x2c8)][_0x1ec3e4(0x1fb)]=_0x1ec3e4(0x299)),_0xf10acf&&(_0x20ea5f>0x0?(_0xf10acf[_0x1ec3e4(0x1ea)]=_0x20ea5f,_0xf10acf[_0x1ec3e4(0x2c8)][_0x1ec3e4(0x1fb)]=_0x1ec3e4(0x1f1)):_0xf10acf[_0x1ec3e4(0x2c8)][_0x1ec3e4(0x1fb)]=_0x1ec3e4(0x299));}function switchView(_0x22080c){const _0x180f64=a0_0xb758fb;state[_0x180f64(0x10a)]=_0x22080c,renderConversations(),document[_0x180f64(0x1da)](_0x180f64(0x173))[_0x180f64(0x2d7)](_0x23a61f=>{const _0x55c26a=_0x180f64;_0x23a61f['classList'][_0x55c26a(0x2f5)](_0x55c26a(0x213));});const _0x314a2a=document[_0x180f64(0x197)](_0x180f64(0x1bc)+_0x22080c+_0x180f64(0x304));if(_0x314a2a)_0x314a2a[_0x180f64(0x118)]['add'](_0x180f64(0x213));}function a0_0x4f0b(_0x2580ab,_0x306d89){const _0x317eac=a0_0x317e();return a0_0x4f0b=function(_0x4f0b2c,_0x94c633){_0x4f0b2c=_0x4f0b2c-0xfe;let _0x430203=_0x317eac[_0x4f0b2c];return _0x430203;},a0_0x4f0b(_0x2580ab,_0x306d89);}const searchInput=document['getElementById']('searchConversations');searchInput&&searchInput['addEventListener'](a0_0xb758fb(0x24c),renderConversations);async function openConversation(_0x51042b){const _0x5ab260=a0_0xb758fb,_0x51136b=state[_0x5ab260(0x196)][_0x5ab260(0x16d)](_0x3aacc9=>_0x3aacc9[_0x5ab260(0x1dc)]===_0x51042b);if(!_0x51136b)return;state[_0x5ab260(0x138)]=_0x51136b;if(window[_0x5ab260(0x168)]<=0x300){const _0x232158=document[_0x5ab260(0x129)]('sidebar');if(_0x232158)_0x232158[_0x5ab260(0x118)][_0x5ab260(0x27d)](_0x5ab260(0x273));}const _0x371774=document[_0x5ab260(0x197)]('.chat-placeholder'),_0x36d790=document[_0x5ab260(0x129)]('chatContainer');if(_0x371774)_0x371774[_0x5ab260(0x2c8)]['display']='none';if(_0x36d790)_0x36d790[_0x5ab260(0x2c8)][_0x5ab260(0x1fb)]=_0x5ab260(0x1f1);const _0x7aebf6=getConversationName(_0x51136b),_0x4c298c=getConversationAvatar(_0x51136b),_0x40f2dd=document[_0x5ab260(0x129)]('chatName'),_0x2352c3=document[_0x5ab260(0x129)]('chatAvatar'),_0x5021c4=document[_0x5ab260(0x129)](_0x5ab260(0x143)),_0x6a6966=document['getElementById'](_0x5ab260(0x2de));if(_0x40f2dd)_0x40f2dd[_0x5ab260(0x1ea)]=_0x7aebf6;if(_0x2352c3)_0x2352c3[_0x5ab260(0x1ea)]=_0x4c298c;if(_0x5021c4)_0x5021c4['textContent']=_0x7aebf6;if(_0x6a6966)_0x6a6966[_0x5ab260(0x1ea)]=_0x4c298c;const _0x42c9d6=document['getElementById'](_0x5ab260(0x15b)),_0x34af28=document['getElementById'](_0x5ab260(0x248));if(_0x51136b[_0x5ab260(0x23a)]==='private'){const _0x507f9c=_0x51136b[_0x5ab260(0x181)][_0x5ab260(0x16d)](_0x18d42a=>_0x18d42a[_0x5ab260(0x1dc)]!==state[_0x5ab260(0x184)]['id']),_0x173c63=_0x507f9c['status']===_0x5ab260(0x28c)?_0x5ab260(0x256):_0x5ab260(0x188)+formatTime(_0x507f9c['lastSeen']);if(_0x42c9d6)_0x42c9d6[_0x5ab260(0x1ea)]=_0x173c63;if(_0x34af28)_0x34af28['textContent']=_0x173c63;}else{const _0x326bb2=_0x51136b[_0x5ab260(0x181)]['length']+'\x20members';if(_0x42c9d6)_0x42c9d6[_0x5ab260(0x1ea)]=_0x326bb2;if(_0x34af28)_0x34af28[_0x5ab260(0x1ea)]=_0x326bb2;}renderParticipants(_0x51136b),renderConversations();const _0x8d976f=document[_0x5ab260(0x129)](_0x5ab260(0x14f));_0x8d976f&&(_0x8d976f[_0x5ab260(0x250)]=_0x5ab260(0x21c)),await loadMessages(_0x51042b),await markConversationAsRead(_0x51042b);}async function loadMessages(_0x3ee5ed){const _0x51ff72=a0_0xb758fb;try{const _0x177d59=await fetch(API_URL+_0x51ff72(0x203)+_0x3ee5ed,{'headers':{'Authorization':_0x51ff72(0x240)+state[_0x51ff72(0x280)]}});if(!_0x177d59['ok'])throw new Error('Failed\x20to\x20load\x20messages');const _0x102f3c=await _0x177d59['json']();state['messages'][_0x3ee5ed]=_0x102f3c,renderMessages(_0x3ee5ed);}catch(_0x50e163){console[_0x51ff72(0x1ed)](_0x51ff72(0x20c),_0x50e163);const _0x710161=document['getElementById'](_0x51ff72(0x14f));_0x710161&&(_0x710161[_0x51ff72(0x250)]='<div\x20style=\x22padding:\x2020px;\x20text-align:\x20center;\x20color:\x20var(--text-light);\x22>Failed\x20to\x20load\x20messages</div>');}}function renderMessages(_0x11e56a){const _0x2e9d51=a0_0xb758fb;if(state[_0x2e9d51(0x138)]?.[_0x2e9d51(0x1dc)]!==_0x11e56a)return;const _0xdcafd2=document['getElementById'](_0x2e9d51(0x14f));if(!_0xdcafd2)return;const _0x4b9900=state[_0x2e9d51(0x20e)][_0x11e56a]||[];_0xdcafd2[_0x2e9d51(0x250)]=_0x4b9900[_0x2e9d51(0x10e)](_0x41c33a=>{const _0x55d45c=_0x2e9d51,_0x2bd089=_0x41c33a['sender'][_0x55d45c(0x1dc)]===state[_0x55d45c(0x184)]['id'],_0x14f499=formatTime(_0x41c33a[_0x55d45c(0x260)]);return _0x55d45c(0x231)+(_0x2bd089?_0x55d45c(0x2a8):'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-avatar\x22>'+_0x41c33a[_0x55d45c(0x117)][_0x55d45c(0x309)]+_0x55d45c(0x1e8)+(!_0x2bd089?_0x55d45c(0x17f)+_0x41c33a['sender'][_0x55d45c(0x224)]+_0x55d45c(0x2fe):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-bubble\x22>'+escapeHtml(_0x41c33a[_0x55d45c(0x2b6)])+_0x55d45c(0x148)+_0x14f499+_0x55d45c(0x1e1)+(_0x2bd089&&_0x41c33a[_0x55d45c(0x2ed)][_0x55d45c(0x2ab)]>0x1?_0x55d45c(0x142):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';})['join'](''),_0xdcafd2['scrollTop']=_0xdcafd2[_0x2e9d51(0x15d)];}function handleNewMessage(_0x71809d){const _0x576ab6=a0_0xb758fb,_0x102a72=_0x71809d[_0x576ab6(0x28e)];!state[_0x576ab6(0x20e)][_0x102a72]&&(state['messages'][_0x102a72]=[]);state[_0x576ab6(0x20e)][_0x102a72][_0x576ab6(0x176)](_0x71809d);const _0x15aa91=state[_0x576ab6(0x196)][_0x576ab6(0x16d)](_0x1a2e64=>_0x1a2e64[_0x576ab6(0x1dc)]===_0x102a72);if(_0x15aa91){_0x15aa91[_0x576ab6(0x11b)]={'text':_0x71809d[_0x576ab6(0x2b6)],'sender':_0x71809d[_0x576ab6(0x117)][_0x576ab6(0x1dc)],'time':_0x71809d[_0x576ab6(0x260)]};if(state[_0x576ab6(0x138)]?.[_0x576ab6(0x1dc)]!==_0x102a72&&_0x71809d[_0x576ab6(0x117)][_0x576ab6(0x1dc)]!==state[_0x576ab6(0x184)]['id']){if(!_0x15aa91[_0x576ab6(0x26a)])_0x15aa91[_0x576ab6(0x26a)]={};_0x15aa91[_0x576ab6(0x26a)][state[_0x576ab6(0x184)]['id']]=(_0x15aa91['unreadCount'][state[_0x576ab6(0x184)]['id']]||0x0)+0x1;}state[_0x576ab6(0x196)]=[_0x15aa91,...state[_0x576ab6(0x196)][_0x576ab6(0x124)](_0x2b82ab=>_0x2b82ab[_0x576ab6(0x1dc)]!==_0x102a72)],renderConversations();}state[_0x576ab6(0x138)]?.[_0x576ab6(0x1dc)]===_0x102a72&&(renderMessages(_0x102a72),markConversationAsRead(_0x102a72));}let typingTimeout;const messageInput=document['getElementById'](a0_0xb758fb(0x125));messageInput&&messageInput[a0_0xb758fb(0x21a)](a0_0xb758fb(0x24c),_0xf65bb4=>{const _0x5caeee=a0_0xb758fb;if(!state[_0x5caeee(0x138)]||!state[_0x5caeee(0x2bb)])return;state[_0x5caeee(0x2bb)][_0x5caeee(0x204)](_0x5caeee(0x244),{'conversationId':state[_0x5caeee(0x138)][_0x5caeee(0x1dc)],'isTyping':!![]}),clearTimeout(typingTimeout),typingTimeout=setTimeout(()=>{const _0x3774c7=_0x5caeee;state[_0x3774c7(0x2bb)][_0x3774c7(0x204)](_0x3774c7(0x244),{'conversationId':state[_0x3774c7(0x138)]['_id'],'isTyping':![]});},0x3e8);});function handleTypingIndicator(_0x3927f3,_0x2c1f71,_0x5f23ae,_0x10a01f){const _0x35eb87=a0_0xb758fb;if(state[_0x35eb87(0x138)]?.[_0x35eb87(0x1dc)]!==_0x5f23ae||_0x3927f3===state['user']['id'])return;const _0x1d1d4=document[_0x35eb87(0x129)](_0x35eb87(0x27a)),_0x2d8bcc=document[_0x35eb87(0x129)](_0x35eb87(0x12f));if(!_0x1d1d4||!_0x2d8bcc)return;_0x10a01f?(_0x2d8bcc['textContent']=_0x2c1f71,_0x1d1d4[_0x35eb87(0x2c8)][_0x35eb87(0x1fb)]='flex'):_0x1d1d4[_0x35eb87(0x2c8)][_0x35eb87(0x1fb)]=_0x35eb87(0x299);}async function markConversationAsRead(_0x444486){const _0x857195=a0_0xb758fb;try{await fetch(API_URL+_0x857195(0x258)+_0x444486,{'method':'PATCH','headers':{'Authorization':'Bearer\x20'+state['token']}});const _0x5d3d4e=state[_0x857195(0x196)][_0x857195(0x16d)](_0x15f5e6=>_0x15f5e6[_0x857195(0x1dc)]===_0x444486);_0x5d3d4e&&_0x5d3d4e['unreadCount']&&(_0x5d3d4e[_0x857195(0x26a)][state[_0x857195(0x184)]['id']]=0x0,renderConversations());}catch(_0x76ebbc){console[_0x857195(0x1ed)](_0x857195(0x182),_0x76ebbc);}}function markMessagesAsRead(_0x28438b,_0x50a921){const _0x4d76d4=a0_0xb758fb,_0x2127a3=state[_0x4d76d4(0x20e)][_0x28438b]||[];_0x2127a3[_0x4d76d4(0x2d7)](_0x4d512f=>{const _0x574d42=_0x4d76d4;!_0x4d512f['readBy'][_0x574d42(0x2af)](_0x50a921)&&_0x4d512f['readBy'][_0x574d42(0x176)](_0x50a921);}),state['currentConversation']?.[_0x4d76d4(0x1dc)]===_0x28438b&&renderMessages(_0x28438b);}function openNewChatPrivate(){const _0xbdbe28=a0_0xb758fb;showNewChatModal(),switchNewChatTab(_0xbdbe28(0x20b));}function openNewChatGroup(){const _0x3ee0c2=a0_0xb758fb;showNewChatModal(),switchNewChatTab(_0x3ee0c2(0x2c6));}function showNewChatModal(){const _0x440863=a0_0xb758fb,_0x5b2e79=document[_0x440863(0x129)](_0x440863(0x1d2));_0x5b2e79&&(_0x5b2e79[_0x440863(0x118)][_0x440863(0x27d)]('active'),switchNewChatTab('private'),renderUsersList());}function closeNewChatModal(){const _0x598fff=a0_0xb758fb,_0x488579=document[_0x598fff(0x129)](_0x598fff(0x1d2));if(_0x488579)_0x488579[_0x598fff(0x118)]['remove']('active');const _0x243a2c=document[_0x598fff(0x129)](_0x598fff(0x149)),_0x118f04=document[_0x598fff(0x129)]('searchGroupUsers'),_0x6216c3=document['getElementById']('groupName');if(_0x243a2c)_0x243a2c['value']='';if(_0x118f04)_0x118f04[_0x598fff(0x1cb)]='';if(_0x6216c3)_0x6216c3[_0x598fff(0x1cb)]='';}function a0_0x317e(){const _0x1eeeb0=['#103a24','scrollHeight','profileModal','/users/settings','data-theme','/react','transparent','\x27)\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20','signupError','\x0a\x20\x20\x20\x20@keyframes\x20slideDown\x20{\x0a\x20\x20\x20\x20\x20\x20from\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-10px);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20to\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(0);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20@keyframes\x20toastIn\x20{\x0a\x20\x20\x20\x20\x20\x200%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x2030px)\x20scale(0.95);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x2060%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x20-4px)\x20scale(1.02);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20100%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x200)\x20scale(1);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20@keyframes\x20toastOut\x20{\x0a\x20\x20\x20\x20\x20\x200%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x200)\x20scale(1);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20100%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x2020px)\x20scale(0.95);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20.message-bubble-wrapper:hover\x20.message-actions-btn\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20flex\x20!important;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.btn-secondary\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20transparent;\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20var(--border);\x0a\x20\x20\x20\x20\x20\x20color:\x20var(--text);\x0a\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20transition:\x20all\x200.2s\x20ease;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.btn-secondary:hover\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20var(--border);\x0a\x20\x20\x20\x20}\x0a\x20\x20','0.5','setDate','innerWidth','#notification-progress-bar','then','theme','Someone','find','#94a3b8','Error\x20loading\x20users:','createGain','\x0a\x20\x20\x20\x20</button>\x0a\x20\x20',';\x20border-radius:\x208px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Quick\x20Search</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<kbd\x20style=\x22background:\x20','.nav-item','.message','totalGroups','push','gain','127.0.0.1','...','450340QFqzOY','text','getDate','/messages','setValueAtTime','<div\x20class=\x22message-sender\x22>','searchConversations','participants','Error\x20marking\x20as\x20read:','#10b981','user','\x0a\x20\x20\x20\x20<button\x20onclick=\x22addReaction(\x27','Just\x20now','shortcutAnimations','Last\x20seen\x20',';\x20padding:\x204px\x208px;\x20border-radius:\x204px;\x20font-family:\x20monospace;\x20font-size:\x2012px;\x22>Alt\x20+\x20G</kbd>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20space-between;\x20align-items:\x20center;\x20padding:\x2010px;\x20background:\x20','setItem','offsetWidth','Edit','mouseenter','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-item-status\x22>','forward-modal','#475569',';\x0a\x20\x20\x20\x20padding:\x2012px\x2020px;\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20box-shadow:\x200\x208px\x2024px\x20rgba(0,0,0,0.3);\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20','\x22></i>\x0a\x20\x20\x20\x20<span>','target','rgba(0,0,0,0.05)','#8b5cf6','conversations','querySelector','mouseleave','#3b82f6','fa-copy','time','Message\x20forwarded\x20successfully',';\x20padding:\x204px\x208px;\x20border-radius:\x204px;\x20font-family:\x20monospace;\x20font-size:\x2012px;\x22>/</kbd>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20space-between;\x20align-items:\x20center;\x20padding:\x2010px;\x20background:\x20','Message\x20deleted','fa-reply','onclick',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x202px\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.2s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20user-select:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22\x20onmouseover=\x22this.style.transform=\x27scale(1.1)\x27\x22\x20onmouseout=\x22this.style.transform=\x27scale(1)\x27\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','icon-btn','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','.chat-placeholder','\x0a\x20\x20\x20\x20@keyframes\x20slideInNotification\x20{\x0a\x20\x20\x20\x20\x20\x20from\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(400px)\x20scale(0.9);\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20to\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(0)\x20scale(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20@keyframes\x20slideOutNotification\x20{\x0a\x20\x20\x20\x20\x20\x20from\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(0)\x20scale(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20to\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(400px)\x20scale(0.9);\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20@keyframes\x20progressBar\x20{\x0a\x20\x20\x20\x20\x20\x20from\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x200%;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20to\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20/*\x20Mobile\x20responsive\x20*/\x0a\x20\x20\x20\x20@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20\x20\x20#message-notification-toast\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20calc(100vw\x20-\x2032px)\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bottom:\x2016px\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:\x2016px\x20!important;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20','Unknown','sidebarUsername','\x0a\x20\x20\x20\x20<div\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20background:\x20','removeAttribute','modal\x20active','3331603rpvJzJ','edited','Delete','status','https://frankchat-pi4x.onrender.com/api','reduce','stringify','TEXTAREA','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22flex:\x201;\x20overflow-y:\x20auto;\x20padding:\x2016px;\x22\x20id=\x22forward-conversations-list\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','head','Connection\x20error.\x20Please\x20try\x20again.','closest','createElement','notificationAnimations','reactions','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22conversation-time\x22>','chatApp','[onclick=\x22switchView(\x27','Error\x20loading\x20conversations:','Message\x20copied\x20to\x20clipboard','#E6E9EF','innerHeight','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22conversation-preview\x22>','rgba(0,\x200,\x200,\x200.05)','</span>\x0a\x20\x20','\x27)\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20','#1e293b','offsetHeight','activeElement','rgba(0,\x200,\x200,\x200.1)',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20word-wrap:\x20break-word;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22>',';\x20padding:\x204px\x208px;\x20border-radius:\x204px;\x20font-family:\x20monospace;\x20font-size:\x2012px;\x22>Alt\x20+\x20.</kbd>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20space-between;\x20align-items:\x20center;\x20padding:\x2010px;\x20background:\x20','value','cssText','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x2012px;\x20color:\x20var(--text-light);\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','null','width','Error\x20deleting\x20message:','log','newChatModal','No\x20unread\x20messages','paused','userTyping','unshift',';\x0a\x20\x20\x20\x20\x20\x20border-radius:\x200\x200\x2012px\x2012px;\x0a\x20\x20\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22notification-progress-bar\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x200%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(90deg,\x20#00c46a,\x20#009b54);\x0a\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20progressBar\x205s\x20linear\x20forwards;\x0a\x20\x20\x20\x20\x20\x20\x22></div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','#ffffff','spinnerAnimation','querySelectorAll','disabled','_id','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-avatar\x22>','\x27\x22\x20onmouseout=\x22this.style.background=\x27transparent\x27\x22>\x0a\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22avatar\x22>','users','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','privateTab','checked','test','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','81VNESbT','settingsModal','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2867268AkfAsV','textContent','Dark','#161A20','error','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20','Failed\x20to\x20update\x20message','getItem','flex',';\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20box-shadow:\x200\x2010px\x2040px\x20rgba(0,\x200,\x200,\x20','.icon-btn','dataset','webkitAudioContext','Please\x20wait...','Please\x20select\x20at\x20least\x20one\x20user','grid',';\x0a\x20\x20\x20\x20\x20\x20color:\x20','0\x2016px\x2048px\x20rgba(0,\x200,\x200,\x20','display','\x22\x20data-message-id=\x22','/conversations','messageDeleted',';\x0a\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20500;\x0a\x20\x20\x20\x20\x22\x20onmouseover=\x22this.style.background=\x27','documentElement','<span\x20style=\x22font-size:\x2010px;\x20color:\x20var(--text-light);\x20margin-left:\x204px;\x22>(edited)</span>','<div\x20style=\x22padding:\x2020px;\x20text-align:\x20center;\x20color:\x20var(--text-light);\x22>No\x20users\x20found</div>','/messages/','emit','slideOutNotification\x200.3s\x20cubic-bezier(0.4,\x200,\x200.6,\x201)\x20forwards','smooth','</div>\x0a\x20\x20\x20\x20','chatContainer','body','chats','private','Error\x20loading\x20messages:','8viPRXG','messages','#cbd5e1','\x0a\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.7);\x0a\x20\x20\x20\x20backdrop-filter:\x20blur(4px);\x0a\x20\x20\x20\x20z-index:\x2010002;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20animation:\x20fadeIn\x200.2s\x20ease;\x0a\x20\x20','var(--text-light)','Escape','active','left','getComputedStyle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','editingId','Failed\x20to\x20create\x20group',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-transform:\x20uppercase;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20letter-spacing:\x200.5px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20500;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-circle\x22\x20style=\x22font-size:\x206px;\x20color:\x20#00c46a;\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Just\x20now\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20bottom:\x200;\x0a\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20height:\x203px;\x0a\x20\x20\x20\x20\x20\x20background:\x20','addEventListener','running','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22loading-messages\x22\x20style=\x22display:\x20flex;\x20flex-direction:\x20column;\x20align-items:\x20center;\x20justify-content:\x20center;\x20height:\x20100%;\x20color:\x20var(--text-light);\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x2040px;\x20height:\x2040px;\x20border:\x203px\x20solid\x20var(--border);\x20border-top-color:\x20var(--primary);\x20border-radius:\x2050%;\x20animation:\x20spin\x201s\x20linear\x20infinite;\x20margin-bottom:\x2015px;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>Loading\x20messages...</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',';\x20padding:\x204px\x208px;\x20border-radius:\x204px;\x20font-family:\x20monospace;\x20font-size:\x2012px;\x22>Alt\x20+\x20?</kbd>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22document.getElementById(\x27shortcuts-help-modal\x27).remove()\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20#00c46a,\x20#009b54);\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20transform\x200.2s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x22\x20onmouseover=\x22this.style.transform=\x27translateY(-2px)\x27\x22\x20onmouseout=\x22this.style.transform=\x27translateY(0)\x27\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20Got\x20it!\x0a\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','currentTime','rgba(0,0,0,0.08)','#loginMonkey\x20.monkey',';\x0a\x20\x20\x20\x20color:\x20','password',';\x20border-radius:\x208px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>New\x20Private\x20Chat</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<kbd\x20style=\x22background:\x20','username','message-notification-toast','settings','1291539WgmJsu','fa-info-circle','application/json','slideOutDown\x200.3s\x20cubic-bezier(0.4,\x200,\x200.2,\x201)','No\x20group\x20chats\x20yet','parentElement','sendBtn','totalChats','lastSeen','numeric','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22message\x20','signupUsername','insertBefore','splice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-reply-preview\x22\x20onclick=\x22scrollToMessage(\x27','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22participant-name\x22>','POST','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22reaction-bubble\x22\x20onclick=\x22toggleReaction(\x27','animationPlayState','type','fa-smile',';\x0a\x20\x20\x20\x20border-radius:\x2030px;\x0a\x20\x20\x20\x20box-shadow:\x200\x208px\x2024px\x20rgba(0,\x200,\x200,\x200.15);\x0a\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20z-index:\x2010002;\x0a\x20\x20\x20\x20animation:\x20scaleIn\x200.2s\x20cubic-bezier(0.34,\x201.56,\x200.64,\x201);\x0a\x20\x20','#f1f5f9','parse','fa-trash','Bearer\x20','\x0a\x20\x20\x20\x20<div\x20style=\x22flex:\x201;\x20min-width:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x2012px;\x20font-weight:\x20600;\x20color:\x20#00c46a;\x20margin-bottom:\x202px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20Replying\x20to\x20','#ef4444',';\x22></i>\x0a\x20\x20\x20\x20<span>','typing','info','<div\x20class=\x22unread-badge\x22>','center','infoStatus','\x27)\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2024px;\x0a\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20padding:\x206px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20transition:\x20transform\x200.2s\x20ease,\x20background\x200.2s\x20ease;\x0a\x20\x20\x20\x20\x20\x20width:\x2040px;\x0a\x20\x20\x20\x20\x20\x20height:\x2040px;\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x22\x20onmouseover=\x22this.style.transform=\x27scale(1.3)\x27;\x20this.style.background=\x27rgba(0,0,0,0.05)\x27\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20onmouseout=\x22this.style.transform=\x27scale(1)\x27;\x20this.style.background=\x27none\x27\x22>\x0a\x20\x20\x20\x20\x20\x20','No\x20conversations\x20yet','chatInfo','input','No\x20messages\x20yet','\x27\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onmouseout=\x22this.style.background=\x27none\x27\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22\x20style=\x22font-size:\x2012px;\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22conversation-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22conversation-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22conversation-name\x22>','innerHTML','rgba(255,255,255,0.05)','json','2FdrpJs','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22padding:\x2016px;\x20border-top:\x201px\x20solid\x20var(--border);\x20display:\x20flex;\x20justify-content:\x20flex-end;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22closeForwardModal()\x22\x20class=\x22btn-secondary\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','unreadBadge','Online','sun','/messages/read/','stop','toString','stopPropagation','notifications','authModal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x2012px;\x20color:\x20var(--text-light);\x20overflow:\x20hidden;\x20text-overflow:\x20ellipsis;\x20white-space:\x20nowrap;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','signupMonkey','createdAt','connect','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22conversation-item\x20',';\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20padding:\x2012px\x2020px;\x0a\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,0,0,0.2);\x0a\x20\x20\x20\x20z-index:\x2010004;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20gap:\x2010px;\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a\x20\x20\x20\x20animation:\x20toastIn\x200.3s\x20ease;\x0a\x20\x20','preventDefault','#f8fafc',';\x20border-radius:\x208px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Toggle\x20Dark/Light\x20Mode</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<kbd\x20style=\x22background:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','\x22\x20id=\x22message-','frequency','unreadCount',';\x22>','disconnect','appendChild','toLocaleDateString',';\x20border-radius:\x208px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Show\x20This\x20Help</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<kbd\x20style=\x22background:\x20','\x27\x22\x20onmouseout=\x22this.style.background=\x27transparent\x27\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22avatar\x22>','shift','notificationsToggle','hidden','Login\x20failed','transform','\x0a\x20\x20\x20\x20<div\x20class=\x22participant-item\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22avatar\x22>','start','toastOut\x200.35s\x20cubic-bezier(0.55,\x200.06,\x200.68,\x200.19)\x20forwards','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22closeMessageNotification(event)\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20','typingIndicator','success','light','add','button','groupsBadge','token',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-left:\x203px\x20solid\x20#00c46a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x206px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background\x200.2s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22\x20onmouseover=\x22this.style.background=\x27','fa-exclamation-circle','Signup\x20failed','Failed\x20to\x20delete\x20message','firstChild','altKey','\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20padding:\x2012px\x2016px;\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20gap:\x2012px;\x0a\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20transition:\x20background\x200.2s\x20ease;\x0a\x20\x20\x20\x20\x20\x20color:\x20','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20var(--background);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20var(--border);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x202px\x208px\x20rgba(0,0,0,0.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.2s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22\x20onmouseover=\x22this.style.transform=\x27scale(1.1)\x27\x22\x20onmouseout=\x22this.style.transform=\x27scale(1)\x27\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-v\x22\x20style=\x22font-size:\x2010px;\x20color:\x20var(--text);\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(0,\x200,\x200,\x200.15)','/auth/login','online','edit-cancel-btn','conversationId','Failed\x20to\x20send\x20message','unread','),\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200\x200\x200\x201px\x20','focus','removeEventListener','\x22\x20onclick=\x22openConversation(\x27','rgba(255,255,255,0.15)','short','signupTab','catch','none','/auth/signup','Reply','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','userStatusChange','React','\x0a\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20z-index:\x2010003;\x0a\x20\x20\x20\x20animation:\x20fadeIn\x200.2s\x20ease;\x0a\x20\x20','Failed\x20to\x20copy\x20message','\x20reacted\x20with\x20',';\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20','Loading...','Group','.mobile-nav-item[data-view=\x22','Message\x20updated','themeSelect','own','Error\x20updating\x20notifications:','animation','length','metaKey','Yesterday','\x27\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onmouseout=\x22this.style.background=\x27','includes','DOMContentLoaded','291848mJzeqc','\x0a\x20\x20\x20\x20<div\x20class=\x22modal-content\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20background:\x20var(--background);\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2016px;\x0a\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20max-height:\x2070vh;\x0a\x20\x20\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20animation:\x20scaleIn\x200.3s\x20cubic-bezier(0.34,\x201.56,\x200.64,\x201);\x0a\x20\x20\x20\x20\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22padding:\x2020px;\x20border-bottom:\x201px\x20solid\x20var(--border);\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin:\x200;\x20font-size:\x2018px;\x20font-weight:\x20700;\x22>Forward\x20Message</h3>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22padding:\x2016px;\x20background:\x20','entries','fa-check-circle','scrollIntoView','content','boxShadow',';\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20box-shadow:\x200\x208px\x2024px\x20rgba(0,\x200,\x200,\x200.15);\x0a\x20\x20\x20\x20z-index:\x2010001;\x0a\x20\x20\x20\x20min-width:\x20200px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20animation:\x20scaleIn\x200.2s\x20cubic-bezier(0.34,\x201.56,\x200.64,\x201);\x0a\x20\x20','Private','settingsUsername','socket','.mobile-nav-item',')\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x20-8px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','trim','setSelectionRange','reply-preview','Error\x20adding\x20reaction:','sidebar','dark','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22font-size:\x2011px;\x20font-weight:\x20600;\x20color:\x20','PATCH','group','loginMonkey','style','toLowerCase','left:\x20-8px;','selected','location','indexOf','bottom','div','exponentialRampToValueAtTime','#64748b','landingPage','#0E1116','#00c46a','removeItem','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','forEach','groups','m\x20ago','\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-','\x0a\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20bottom:\x2024px;\x0a\x20\x20\x20\x20right:\x2024px;\x0a\x20\x20\x20\x20background:\x20','toggle','Failed\x20to\x20forward\x20message','infoAvatar','\x0a\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20background:\x20rgba(0,\x200,\x200,\x200.7);\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20z-index:\x2010000;\x0a\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20','findIndex','\x27\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x2011px;\x20font-weight:\x20600;\x20color:\x20#00c46a;\x20margin-bottom:\x202px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','en-US','height','getAttribute','Error\x20updating\x20theme:',';\x20padding:\x204px\x208px;\x20border-radius:\x204px;\x20font-family:\x20monospace;\x20font-size:\x2012px;\x22>Alt\x20+\x20N</kbd>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20space-between;\x20align-items:\x20center;\x20padding:\x2010px;\x20background:\x20','theme-notification','Error\x20creating\x20group:','top','join','<div\x20style=\x22width:\x2020px;\x20height:\x2020px;\x20border:\x202px\x20solid\x20rgba(255,255,255,0.3);\x20border-top-color:\x20white;\x20border-radius:\x2050%;\x20animation:\x20spin\x201s\x20linear\x20infinite;\x20margin:\x200;\x22></div>','sine','readBy','2-digit','linear-gradient(135deg,\x20#00c46a,\x20#009b54)','0.2','#334155','loginPassword','login','hostname','remove','0.15','groupName','Light','messagesRead','reset','message-actions-menu','tagName',';\x20width:\x2016px;\x20text-align:\x20center;\x22></i>\x0a\x20\x20\x20\x20\x20\x20<span>','</div>','newConversation','reaction-picker','@keyframes\x20spin\x20{\x20to\x20{\x20transform:\x20rotate(360deg);\x20}\x20}','\x27,\x20this)\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22avatar\x22>','\x0a\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20bottom:\x2024px;\x0a\x20\x20\x20\x20right:\x2024px;\x0a\x20\x20\x20\x20width:\x20360px;\x0a\x20\x20\x20\x20max-width:\x20calc(100vw\x20-\x2048px);\x0a\x20\x20\x20\x20background:\x20','\x27)\x22]','linear-gradient(135deg,\x20#3b82f6,\x20#2563eb)','.message-actions-btn','201055IOnHWW','getBoundingClientRect','avatar','floor','keydown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22forward-conversation-item\x22\x20onclick=\x22confirmForward(\x27',';\x0a\x20\x20\x20\x20border-left:\x203px\x20solid\x20#00c46a;\x0a\x20\x20\x20\x20padding:\x2010px\x2012px;\x0a\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20animation:\x20slideDown\x200.2s\x20ease;\x0a\x20\x20',';\x20border-bottom:\x201px\x20solid\x20var(--border);\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x2012px;\x20color:\x20var(--text-light);\x20margin-bottom:\x204px;\x22>Message:</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x2014px;\x20color:\x20var(--text);\x20font-style:\x20italic;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22','replyTo',';\x20border-radius:\x208px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Close\x20Modal</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<kbd\x20style=\x22background:\x20',';\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2016px;\x0a\x20\x20\x20\x20\x20\x20padding:\x2032px;\x0a\x20\x20\x20\x20\x20\x20max-width:\x20500px;\x0a\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x200\x2020px\x2060px\x20rgba(0,0,0,0.4);\x0a\x20\x20\x20\x20\x20\x20animation:\x20scaleIn\x200.3s\x20cubic-bezier(0.34,\x201.56,\x200.64,\x201);\x0a\x20\x20\x20\x20\x22>\x0a\x20\x20\x20\x20\x20\x20<h2\x20style=\x22margin:\x200\x200\x2024px;\x20font-size:\x2024px;\x20font-weight:\x20700;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20⌨️\x20Keyboard\x20Shortcuts\x0a\x20\x20\x20\x20\x20\x20</h2>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20flex-direction:\x20column;\x20gap:\x2012px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20space-between;\x20align-items:\x20center;\x20padding:\x2010px;\x20background:\x20','ctrlKey','Creating\x20account...','</div>\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22flex:\x201;\x20min-width:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20space-between;\x20margin-bottom:\x204px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2013px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','currentView','name','block','loginError','map','action-toast','rgba(0,\x20196,\x20106,\x200.15)','translateY(-4px)\x20scale(1.02)','Error\x20starting\x20chat:','contains','loginTab','dismissTimeout','Failed\x20to\x20add\x20reaction','sender','classList','\x0a\x20\x20\x20\x20<div\x20class=\x22user-item\x22\x20onclick=\x22startPrivateChat(\x27','Failed\x20to\x20create\x20conversation','lastMessage','searchGroupUsers','key','localhost','10BcTDLV','\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20','click','loadingOverlay','\x27,\x20\x27','filter','messageInput','toLocaleTimeString','\x0a\x20\x20\x20\x20<div\x20class=\x22message-action-item\x22\x20data-action-index=\x22','signupPassword','getElementById','toDateString',';\x20border-radius:\x208px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>New\x20Group\x20Chat</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<kbd\x20style=\x22background:\x20','right:\x20-8px;','INPUT','writeText','typingUsername','\x0a\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20background:\x20','0\x2010px\x2040px\x20rgba(0,\x200,\x200,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-bubble-wrapper\x22\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-bubble\x22\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','signupPasswordConfirm','show','signupForm','loginForm','background','currentConversation',';\x0a\x20\x20\x20\x20padding:\x2016px;\x0a\x20\x20\x20\x20z-index:\x2010000;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20animation:\x20slideInNotification\x200.4s\x20cubic-bezier(0.34,\x201.56,\x200.64,\x201);\x0a\x20\x20\x20\x20transition:\x20transform\x200.2s\x20ease,\x20box-shadow\x200.2s\x20ease;\x0a\x20\x20\x20\x20border-left:\x204px\x20solid\x20#00c46a;\x0a\x20\x20\x20\x20backdrop-filter:\x20blur(10px);\x0a\x20\x20','shortcuts-help-modal','profileUsername','className','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-item-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-item-name\x22>','\x20chat\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x27)\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background\x200.2s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22\x20onmouseover=\x22this.style.background=\x27','<i\x20class=\x22fas\x20fa-paper-plane\x22></i>','.message-action-item','<i\x20class=\x22fas\x20fa-check-double\x22></i>','infoName','rgba(255,255,255,0.1)','participantsList','Group\x20Chat','.loading-conversations','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','searchUsers','valid','#e2e8f0','\x0a\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20bottom:\x2080px;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20background:\x20','http://localhost:3000','Please\x20enter\x20a\x20group\x20name','messagesContainer','Offline','/users','submit','\x0a\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20gap:\x2012px;\x20align-items:\x20start;\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x2042px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x2042px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20#00c46a,\x20#009b54);\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20700;\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2012px\x20rgba(0,\x20196,\x20106,\x200.3);\x0a\x20\x20\x20\x20\x20\x20\x22>','substring','Failed\x20to\x20start\x20conversation.\x20Please\x20try\x20again.','loginUsername',';\x20border-radius:\x208px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Focus\x20Search</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<kbd\x20style=\x22background:\x20','messageActionsAnimations','1026613BdAIll','\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x2040px;\x20height:\x2040px;\x20border:\x204px\x20solid\x20rgba(255,255,255,0.3);\x20border-top-color:\x20white;\x20border-radius:\x2050%;\x20animation:\x20spin\x201s\x20linear\x20infinite;\x20margin-bottom:\x2015px;\x22></div>\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22loadingMessage\x22>','chatStatus'];a0_0x317e=function(){return _0x1eeeb0;};return a0_0x317e();}function switchNewChatTab(_0x471c8f){const _0x45737b=a0_0xb758fb,_0x226ec7=document[_0x45737b(0x129)](_0x45737b(0x1e2)),_0x2d040c=document[_0x45737b(0x129)]('groupTab'),_0x36b52b=document[_0x45737b(0x129)]('privateChatSection'),_0x1939f8=document[_0x45737b(0x129)]('groupChatSection');if(!_0x226ec7||!_0x2d040c||!_0x36b52b||!_0x1939f8)return;_0x471c8f===_0x45737b(0x20b)?(_0x226ec7[_0x45737b(0x118)][_0x45737b(0x27d)]('active'),_0x2d040c[_0x45737b(0x118)]['remove'](_0x45737b(0x213)),_0x36b52b[_0x45737b(0x2c8)]['display']=_0x45737b(0x10c),_0x1939f8[_0x45737b(0x2c8)][_0x45737b(0x1fb)]=_0x45737b(0x299),renderUsersList()):(_0x226ec7[_0x45737b(0x118)][_0x45737b(0x2f5)]('active'),_0x2d040c['classList'][_0x45737b(0x27d)]('active'),_0x36b52b[_0x45737b(0x2c8)][_0x45737b(0x1fb)]='none',_0x1939f8[_0x45737b(0x2c8)][_0x45737b(0x1fb)]=_0x45737b(0x10c),renderGroupUsersList());}async function loadUsers(){const _0x4f8c44=a0_0xb758fb;try{const _0x1ce9ee=await fetch(API_URL+_0x4f8c44(0x151),{'headers':{'Authorization':_0x4f8c44(0x240)+state[_0x4f8c44(0x280)]}});if(!_0x1ce9ee['ok'])throw new Error('Failed\x20to\x20load\x20users');state[_0x4f8c44(0x1e0)]=await _0x1ce9ee[_0x4f8c44(0x252)]();}catch(_0xf3c32){console[_0x4f8c44(0x1ed)](_0x4f8c44(0x16f),_0xf3c32);}}function renderUsersList(){const _0x54028a=a0_0xb758fb,_0x407262=document[_0x54028a(0x129)]('usersList');if(!_0x407262)return;const _0x122f89=document['getElementById'](_0x54028a(0x149)),_0x17d0f5=_0x122f89?_0x122f89[_0x54028a(0x1cb)][_0x54028a(0x2c9)]():'',_0x3c456a=state[_0x54028a(0x1e0)][_0x54028a(0x124)](_0x3e2cb5=>_0x3e2cb5['username'][_0x54028a(0x2c9)]()['includes'](_0x17d0f5));if(_0x3c456a[_0x54028a(0x2ab)]===0x0){_0x407262['innerHTML']='<div\x20style=\x22padding:\x2020px;\x20text-align:\x20center;\x20color:\x20var(--text-light);\x22>No\x20users\x20found</div>';return;}_0x407262[_0x54028a(0x250)]=_0x3c456a[_0x54028a(0x10e)](_0x34e7f0=>_0x54028a(0x119)+_0x34e7f0[_0x54028a(0x1dc)]+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22avatar\x22>'+_0x34e7f0[_0x54028a(0x309)]+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-item-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-item-name\x22>'+_0x34e7f0[_0x54028a(0x224)]+_0x54028a(0x18e)+(_0x34e7f0['status']===_0x54028a(0x28c)?_0x54028a(0x256):_0x54028a(0x150))+_0x54028a(0x267))[_0x54028a(0x2ea)]('');}function renderGroupUsersList(){const _0x85586=a0_0xb758fb,_0xa5a35a=document[_0x85586(0x129)]('groupUsersList');if(!_0xa5a35a)return;const _0x4386e9=document[_0x85586(0x129)](_0x85586(0x11c)),_0x1a23d9=_0x4386e9?_0x4386e9[_0x85586(0x1cb)][_0x85586(0x2c9)]():'',_0x4fc37f=state['users'][_0x85586(0x124)](_0x2796eb=>_0x2796eb[_0x85586(0x224)]['toLowerCase']()[_0x85586(0x2af)](_0x1a23d9));if(_0x4fc37f[_0x85586(0x2ab)]===0x0){_0xa5a35a[_0x85586(0x250)]=_0x85586(0x202);return;}_0xa5a35a[_0x85586(0x250)]=_0x4fc37f[_0x85586(0x10e)](_0x3ed810=>'\x0a\x20\x20\x20\x20<div\x20class=\x22user-item\x22\x20onclick=\x22toggleUserSelection(\x27'+_0x3ed810[_0x85586(0x1dc)]+_0x85586(0x302)+_0x3ed810[_0x85586(0x309)]+_0x85586(0x13d)+_0x3ed810[_0x85586(0x224)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-item-status\x22>'+(_0x3ed810[_0x85586(0x1ae)]===_0x85586(0x28c)?_0x85586(0x256):_0x85586(0x150))+'</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20')['join']('');}const searchUsersInput=document['getElementById'](a0_0xb758fb(0x149)),searchGroupUsersInput=document['getElementById'](a0_0xb758fb(0x11c));searchUsersInput&&searchUsersInput[a0_0xb758fb(0x21a)]('input',renderUsersList);searchGroupUsersInput&&searchGroupUsersInput['addEventListener'](a0_0xb758fb(0x24c),renderGroupUsersList);let selectedGroupUsers=[];function toggleUserSelection(_0x5a4392,_0x2104c2){const _0x35b295=a0_0xb758fb,_0x1aeaac=selectedGroupUsers[_0x35b295(0x2cd)](_0x5a4392);_0x1aeaac>-0x1?(selectedGroupUsers[_0x35b295(0x234)](_0x1aeaac,0x1),_0x2104c2[_0x35b295(0x118)][_0x35b295(0x2f5)](_0x35b295(0x2cb))):(selectedGroupUsers[_0x35b295(0x176)](_0x5a4392),_0x2104c2['classList'][_0x35b295(0x27d)](_0x35b295(0x2cb)));}async function startPrivateChat(_0x18c193){const _0x5231f7=a0_0xb758fb;try{const _0x5701f7=await fetch(API_URL+_0x5231f7(0x1fd),{'method':_0x5231f7(0x237),'headers':{'Content-Type':_0x5231f7(0x229),'Authorization':_0x5231f7(0x240)+state[_0x5231f7(0x280)]},'body':JSON['stringify']({'type':'private','participants':[_0x18c193]})});if(!_0x5701f7['ok'])throw new Error(_0x5231f7(0x11a));const _0x15e8c1=await _0x5701f7[_0x5231f7(0x252)](),_0x2125d1=state[_0x5231f7(0x196)]['find'](_0x46fb89=>_0x46fb89[_0x5231f7(0x1dc)]===_0x15e8c1[_0x5231f7(0x1dc)]);!_0x2125d1&&(state[_0x5231f7(0x196)][_0x5231f7(0x1d6)](_0x15e8c1),renderConversations()),closeNewChatModal(),openConversation(_0x15e8c1['_id']);}catch(_0x17c1fe){console[_0x5231f7(0x1ed)](_0x5231f7(0x112),_0x17c1fe),alert(_0x5231f7(0x155));}}async function createGroupChat(){const _0x4a62ce=a0_0xb758fb,_0x43fc69=document[_0x4a62ce(0x129)](_0x4a62ce(0x2f7));if(!_0x43fc69)return;const _0x254575=_0x43fc69[_0x4a62ce(0x1cb)][_0x4a62ce(0x2be)]();if(!_0x254575){alert(_0x4a62ce(0x14e));return;}if(selectedGroupUsers[_0x4a62ce(0x2ab)]===0x0){alert(_0x4a62ce(0x1f7));return;}try{const _0x5af6d7=await fetch(API_URL+_0x4a62ce(0x1fd),{'method':'POST','headers':{'Content-Type':_0x4a62ce(0x229),'Authorization':'Bearer\x20'+state[_0x4a62ce(0x280)]},'body':JSON[_0x4a62ce(0x1b1)]({'type':_0x4a62ce(0x2c6),'participants':selectedGroupUsers,'name':_0x254575})});if(!_0x5af6d7['ok'])throw new Error(_0x4a62ce(0x218));const _0x43f560=await _0x5af6d7['json']();state[_0x4a62ce(0x196)][_0x4a62ce(0x1d6)](_0x43f560),renderConversations(),closeNewChatModal(),selectedGroupUsers=[],openConversation(_0x43f560['_id']);}catch(_0x3d1281){console['error'](_0x4a62ce(0x2e8),_0x3d1281),alert('Failed\x20to\x20create\x20group.\x20Please\x20try\x20again.');}}function toggleChatInfo(){const _0x2b84fb=a0_0xb758fb,_0x2455bc=document[_0x2b84fb(0x129)]('chatInfo');if(!_0x2455bc)return;_0x2455bc['classList'][_0x2b84fb(0x2dc)](_0x2b84fb(0x213));}function renderParticipants(_0x16fc63){const _0x5e1148=a0_0xb758fb,_0x161e17=document['getElementById'](_0x5e1148(0x145));if(!_0x161e17)return;_0x161e17[_0x5e1148(0x250)]=_0x16fc63[_0x5e1148(0x181)][_0x5e1148(0x10e)](_0x465f29=>_0x5e1148(0x276)+_0x465f29[_0x5e1148(0x309)]+_0x5e1148(0x236)+_0x465f29[_0x5e1148(0x224)]+_0x5e1148(0x1a3))[_0x5e1148(0x2ea)]('');}document[a0_0xb758fb(0x21a)](a0_0xb758fb(0x121),_0x5bd9a4=>{const _0x312e4c=a0_0xb758fb,_0x294689=document[_0x312e4c(0x129)](_0x312e4c(0x24b));if(!_0x294689)return;if(_0x294689[_0x312e4c(0x118)][_0x312e4c(0x113)](_0x312e4c(0x213))){const _0x5b1fc7=_0x294689[_0x312e4c(0x113)](_0x5bd9a4[_0x312e4c(0x193)]),_0x5bf006=_0x5bd9a4[_0x312e4c(0x193)][_0x312e4c(0x1b6)](_0x312e4c(0x1f3));!_0x5b1fc7&&!_0x5bf006&&toggleChatInfo(!![]);}});function toggleSettingsModal(){const _0x1c66a5=a0_0xb758fb,_0x1353e5=document[_0x1c66a5(0x129)]('settingsModal');if(!_0x1353e5)return;if(_0x1353e5[_0x1c66a5(0x118)][_0x1c66a5(0x113)]('active'))_0x1353e5[_0x1c66a5(0x118)][_0x1c66a5(0x2f5)](_0x1c66a5(0x213));else{const _0x2bbceb=document[_0x1c66a5(0x129)](_0x1c66a5(0x2ba)),_0x5796b4=document[_0x1c66a5(0x129)]('settingsAvatar');if(_0x2bbceb)_0x2bbceb[_0x1c66a5(0x1ea)]=state[_0x1c66a5(0x184)][_0x1c66a5(0x224)];if(_0x5796b4)_0x5796b4[_0x1c66a5(0x1ea)]=state[_0x1c66a5(0x184)]['avatar'];_0x1353e5[_0x1c66a5(0x118)][_0x1c66a5(0x27d)]('active');}}async function changeTheme(){const _0x155e8a=a0_0xb758fb,_0x30e61a=document['getElementById']('themeSelect');if(!_0x30e61a)return;const _0x5bca1e=_0x30e61a['value'];_0x5bca1e===_0x155e8a(0x2c3)?document['documentElement'][_0x155e8a(0x288)](_0x155e8a(0x160),_0x155e8a(0x2c3)):document[_0x155e8a(0x200)][_0x155e8a(0x1a9)]('data-theme');try{await fetch(API_URL+_0x155e8a(0x15f),{'method':_0x155e8a(0x2c5),'headers':{'Content-Type':'application/json','Authorization':_0x155e8a(0x240)+state['token']},'body':JSON[_0x155e8a(0x1b1)]({'theme':_0x5bca1e})});if(!state[_0x155e8a(0x184)][_0x155e8a(0x226)])state[_0x155e8a(0x184)][_0x155e8a(0x226)]={};state['user']['settings'][_0x155e8a(0x16b)]=_0x5bca1e,localStorage[_0x155e8a(0x18a)]('user',JSON[_0x155e8a(0x1b1)](state['user']));}catch(_0x25c4b2){console['error'](_0x155e8a(0x2e5),_0x25c4b2);}}async function toggleNotifications(){const _0x5d73a4=a0_0xb758fb,_0x13bb42=document[_0x5d73a4(0x129)](_0x5d73a4(0x272));if(!_0x13bb42)return;const _0x2f0e76=_0x13bb42[_0x5d73a4(0x1e3)];try{await fetch(API_URL+'/users/settings',{'method':'PATCH','headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+state[_0x5d73a4(0x280)]},'body':JSON[_0x5d73a4(0x1b1)]({'notifications':_0x2f0e76})});if(!state[_0x5d73a4(0x184)][_0x5d73a4(0x226)])state['user'][_0x5d73a4(0x226)]={};state[_0x5d73a4(0x184)][_0x5d73a4(0x226)][_0x5d73a4(0x25c)]=_0x2f0e76,localStorage['setItem'](_0x5d73a4(0x184),JSON['stringify'](state['user']));}catch(_0x38edc8){console[_0x5d73a4(0x1ed)](_0x5d73a4(0x2a9),_0x38edc8);}}function logout(){const _0x3f967f=a0_0xb758fb;state[_0x3f967f(0x2bb)]&&state['socket'][_0x3f967f(0x26c)](),localStorage['removeItem'](_0x3f967f(0x280)),localStorage[_0x3f967f(0x2d5)](_0x3f967f(0x184)),state[_0x3f967f(0x280)]=null,state[_0x3f967f(0x184)]=null,state[_0x3f967f(0x196)]=[],state[_0x3f967f(0x138)]=null,state[_0x3f967f(0x20e)]={},document['getElementById'](_0x3f967f(0x1bb))[_0x3f967f(0x2c8)]['display']='none',document[_0x3f967f(0x129)](_0x3f967f(0x2d2))[_0x3f967f(0x2c8)][_0x3f967f(0x1fb)]=_0x3f967f(0x10c),toggleSettingsModal();}function updateUserStatus(_0x343c17,_0xaef7a9,_0x2d4e95){const _0x1c6675=a0_0xb758fb;state[_0x1c6675(0x196)][_0x1c6675(0x2d7)](_0x22159f=>{const _0x3a4001=_0x1c6675,_0x5f1772=_0x22159f['participants'][_0x3a4001(0x16d)](_0x6beb24=>_0x6beb24[_0x3a4001(0x1dc)]===_0x343c17);if(_0x5f1772){_0x5f1772[_0x3a4001(0x1ae)]=_0xaef7a9;if(_0x2d4e95)_0x5f1772[_0x3a4001(0x22f)]=_0x2d4e95;}});const _0x5ba92b=state[_0x1c6675(0x1e0)][_0x1c6675(0x16d)](_0x5b4a34=>_0x5b4a34['_id']===_0x343c17);if(_0x5ba92b){_0x5ba92b[_0x1c6675(0x1ae)]=_0xaef7a9;if(_0x2d4e95)_0x5ba92b['lastSeen']=_0x2d4e95;}if(state[_0x1c6675(0x138)]?.[_0x1c6675(0x23a)]===_0x1c6675(0x20b)){const _0x541d65=state[_0x1c6675(0x138)][_0x1c6675(0x181)][_0x1c6675(0x16d)](_0x44b758=>_0x44b758[_0x1c6675(0x1dc)]===_0x343c17);if(_0x541d65){const _0x1a1672=_0xaef7a9===_0x1c6675(0x28c)?_0x1c6675(0x256):_0x1c6675(0x188)+formatTime(_0x2d4e95),_0x3f014e=document[_0x1c6675(0x129)]('chatStatus'),_0x13fa61=document[_0x1c6675(0x129)](_0x1c6675(0x248));if(_0x3f014e)_0x3f014e[_0x1c6675(0x1ea)]=_0x1a1672;if(_0x13fa61)_0x13fa61['textContent']=_0x1a1672;}}renderConversations();}function toggleSidebar(){const _0x2bbc32=a0_0xb758fb,_0x3304cd=document[_0x2bbc32(0x129)](_0x2bbc32(0x2c2));_0x3304cd&&_0x3304cd['classList']['toggle'](_0x2bbc32(0x273));}function formatTime(_0x5bf4cd){const _0x2d8118=a0_0xb758fb;if(!_0x5bf4cd)return'';const _0x2a68e7=new Date(_0x5bf4cd),_0x6d0659=new Date(),_0x3e5957=_0x6d0659-_0x2a68e7;if(_0x3e5957<0xea60)return _0x2d8118(0x186);if(_0x3e5957<0x36ee80){const _0x4f5217=Math[_0x2d8118(0xfe)](_0x3e5957/0xea60);return _0x4f5217+_0x2d8118(0x2d9);}if(_0x2a68e7[_0x2d8118(0x12a)]()===_0x6d0659[_0x2d8118(0x12a)]())return _0x2a68e7[_0x2d8118(0x126)](_0x2d8118(0x2e2),{'hour':'2-digit','minute':_0x2d8118(0x2ee)});const _0x28b47c=new Date(_0x6d0659);_0x28b47c[_0x2d8118(0x167)](_0x28b47c[_0x2d8118(0x17c)]()-0x1);if(_0x2a68e7['toDateString']()===_0x28b47c[_0x2d8118(0x12a)]())return _0x2d8118(0x2ad);if(_0x3e5957<0x240c8400)return _0x2a68e7[_0x2d8118(0x26e)](_0x2d8118(0x2e2),{'weekday':_0x2d8118(0x296)});return _0x2a68e7['toLocaleDateString']('en-US',{'month':'short','day':_0x2d8118(0x230)});}function escapeHtml(_0x524244){const _0x1fa136=a0_0xb758fb,_0x2ce75b=document[_0x1fa136(0x1b7)]('div');return _0x2ce75b[_0x1fa136(0x1ea)]=_0x524244,_0x2ce75b[_0x1fa136(0x250)];}const authModal=document[a0_0xb758fb(0x129)](a0_0xb758fb(0x25d));authModal&&authModal[a0_0xb758fb(0x21a)](a0_0xb758fb(0x121),_0xa36b25=>{const _0x411369=a0_0xb758fb;if(_0xa36b25[_0x411369(0x193)]['id']===_0x411369(0x25d))closeAuthModal();});const newChatModal=document['getElementById'](a0_0xb758fb(0x1d2));newChatModal&&newChatModal[a0_0xb758fb(0x21a)](a0_0xb758fb(0x121),_0x39c980=>{const _0x4ffe1f=a0_0xb758fb;if(_0x39c980[_0x4ffe1f(0x193)]['id']===_0x4ffe1f(0x1d2))closeNewChatModal();});const settingsModal=document[a0_0xb758fb(0x129)](a0_0xb758fb(0x1e7));settingsModal&&settingsModal[a0_0xb758fb(0x21a)](a0_0xb758fb(0x121),_0x42437e=>{const _0x30271b=a0_0xb758fb;if(_0x42437e[_0x30271b(0x193)]['id']===_0x30271b(0x1e7))toggleSettingsModal();});function switchMobileView(_0xdcd614){const _0x3c7d1c=a0_0xb758fb;switchView(_0xdcd614),document[_0x3c7d1c(0x1da)](_0x3c7d1c(0x2bc))[_0x3c7d1c(0x2d7)](_0x108f26=>{const _0xa0d56d=_0x3c7d1c;_0x108f26[_0xa0d56d(0x118)]['remove']('active');});const _0x4e2a1a=document[_0x3c7d1c(0x197)](_0x3c7d1c(0x2a5)+_0xdcd614+'\x22]');if(_0x4e2a1a)_0x4e2a1a[_0x3c7d1c(0x118)]['add'](_0x3c7d1c(0x213));}function closeChatMobile(){const _0x456366=a0_0xb758fb,_0x2c6a9f=document[_0x456366(0x129)]('sidebar'),_0x47f220=document['getElementById'](_0x456366(0x208)),_0x45b8e6=document[_0x456366(0x197)](_0x456366(0x1a4));if(_0x2c6a9f)_0x2c6a9f['classList']['remove'](_0x456366(0x273));if(_0x47f220)_0x47f220[_0x456366(0x2c8)][_0x456366(0x1fb)]='none';if(_0x45b8e6)_0x45b8e6[_0x456366(0x2c8)][_0x456366(0x1fb)]='flex';state['currentConversation']=null;}function showProfileModal(){const _0x3b7a52=a0_0xb758fb,_0xce587b=document[_0x3b7a52(0x129)]('profileModal');if(!_0xce587b)return;const _0x2b2e3c=document['getElementById'](_0x3b7a52(0x13b)),_0x21cc5c=document[_0x3b7a52(0x129)]('profileAvatar'),_0x3e5f81=document['getElementById'](_0x3b7a52(0x22e)),_0x4ddc4a=document[_0x3b7a52(0x129)](_0x3b7a52(0x175));if(_0x2b2e3c)_0x2b2e3c[_0x3b7a52(0x1ea)]=state[_0x3b7a52(0x184)][_0x3b7a52(0x224)];if(_0x21cc5c)_0x21cc5c['textContent']=state[_0x3b7a52(0x184)]['avatar'];if(_0x3e5f81){const _0x3dbc73=state[_0x3b7a52(0x196)][_0x3b7a52(0x124)](_0x4f727f=>_0x4f727f[_0x3b7a52(0x23a)]==='private')[_0x3b7a52(0x2ab)];_0x3e5f81[_0x3b7a52(0x1ea)]=_0x3dbc73;}if(_0x4ddc4a){const _0x312908=state['conversations'][_0x3b7a52(0x124)](_0x3c1be0=>_0x3c1be0[_0x3b7a52(0x23a)]===_0x3b7a52(0x2c6))[_0x3b7a52(0x2ab)];_0x4ddc4a[_0x3b7a52(0x1ea)]=_0x312908;}_0xce587b[_0x3b7a52(0x118)][_0x3b7a52(0x27d)](_0x3b7a52(0x213));}function closeProfileModal(){const _0x5047ed=a0_0xb758fb,_0x54e126=document['getElementById'](_0x5047ed(0x15e));if(_0x54e126)_0x54e126['classList'][_0x5047ed(0x2f5)](_0x5047ed(0x213));}const profileModal=document[a0_0xb758fb(0x129)](a0_0xb758fb(0x15e));profileModal&&profileModal['addEventListener']('click',_0x17d7b8=>{if(_0x17d7b8['target']['id']==='profileModal')closeProfileModal();});document[a0_0xb758fb(0x21a)](a0_0xb758fb(0xff),_0x548b26=>{const _0x46124e=a0_0xb758fb;_0x548b26[_0x46124e(0x286)]&&_0x548b26[_0x46124e(0x11d)]==='t'&&(_0x548b26[_0x46124e(0x264)](),toggleThemeShortcut());_0x548b26[_0x46124e(0x286)]&&_0x548b26[_0x46124e(0x11d)]==='n'&&(_0x548b26[_0x46124e(0x264)](),openNewChatPrivate());_0x548b26[_0x46124e(0x286)]&&_0x548b26[_0x46124e(0x11d)]==='g'&&(_0x548b26[_0x46124e(0x264)](),openNewChatGroup());if(_0x548b26[_0x46124e(0x286)]&&_0x548b26['key']==='s'){_0x548b26[_0x46124e(0x264)]();const _0x49cf57=document['getElementById']('searchConversations');if(_0x49cf57)_0x49cf57[_0x46124e(0x292)]();}_0x548b26['altKey']&&_0x548b26[_0x46124e(0x11d)]==='.'&&(_0x548b26[_0x46124e(0x264)](),state[_0x46124e(0x184)]&&state[_0x46124e(0x280)]&&toggleSettingsModal());_0x548b26[_0x46124e(0x286)]&&_0x548b26['key']==='?'&&(_0x548b26[_0x46124e(0x264)](),showShortcutsHelp());if(_0x548b26['key']===_0x46124e(0x212)){const _0x7fc3d9=document[_0x46124e(0x129)](_0x46124e(0x13a));if(_0x7fc3d9){_0x7fc3d9[_0x46124e(0x2f5)]();return;}const _0x293a75=document[_0x46124e(0x129)](_0x46124e(0x25d)),_0x56960c=document[_0x46124e(0x129)](_0x46124e(0x1d2)),_0x2af85d=document[_0x46124e(0x129)]('settingsModal'),_0x26bbbb=document[_0x46124e(0x129)](_0x46124e(0x24b));if(_0x293a75&&_0x293a75[_0x46124e(0x118)]['contains'](_0x46124e(0x213)))closeAuthModal();else{if(_0x56960c&&_0x56960c['classList'][_0x46124e(0x113)](_0x46124e(0x213)))closeNewChatModal();else{if(_0x2af85d&&_0x2af85d[_0x46124e(0x118)][_0x46124e(0x113)](_0x46124e(0x213)))toggleSettingsModal();else _0x26bbbb&&_0x26bbbb[_0x46124e(0x2c8)]['display']===_0x46124e(0x10c)&&toggleChatInfo();}}}if(_0x548b26[_0x46124e(0x11d)]==='/'&&!_0x548b26[_0x46124e(0x106)]&&!_0x548b26[_0x46124e(0x2ac)]&&!_0x548b26[_0x46124e(0x286)]){const _0x5871f9=document[_0x46124e(0x1c7)],_0x489175=_0x5871f9[_0x46124e(0x2fc)]===_0x46124e(0x12d)||_0x5871f9[_0x46124e(0x2fc)]===_0x46124e(0x1b2)||_0x5871f9['isContentEditable'];if(!_0x489175){_0x548b26[_0x46124e(0x264)]();const _0x2d73c9=document[_0x46124e(0x129)]('searchConversations');if(_0x2d73c9)_0x2d73c9[_0x46124e(0x292)]();}}});async function toggleThemeShortcut(){const _0x575b0c=a0_0xb758fb,_0x5c8b59=document[_0x575b0c(0x129)](_0x575b0c(0x2a7)),_0x491530=document[_0x575b0c(0x200)]['getAttribute']('data-theme'),_0x3670e5=_0x491530===_0x575b0c(0x2c3)?_0x575b0c(0x27c):_0x575b0c(0x2c3);_0x3670e5===_0x575b0c(0x2c3)?document[_0x575b0c(0x200)]['setAttribute'](_0x575b0c(0x160),_0x575b0c(0x2c3)):document['documentElement'][_0x575b0c(0x1a9)](_0x575b0c(0x160));_0x5c8b59&&(_0x5c8b59[_0x575b0c(0x1cb)]=_0x3670e5);if(state['token']&&state[_0x575b0c(0x184)])try{await fetch(API_URL+_0x575b0c(0x15f),{'method':_0x575b0c(0x2c5),'headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+state['token']},'body':JSON['stringify']({'theme':_0x3670e5})});if(!state['user']['settings'])state[_0x575b0c(0x184)][_0x575b0c(0x226)]={};state[_0x575b0c(0x184)][_0x575b0c(0x226)]['theme']=_0x3670e5,localStorage[_0x575b0c(0x18a)](_0x575b0c(0x184),JSON[_0x575b0c(0x1b1)](state[_0x575b0c(0x184)])),showThemeNotification(_0x3670e5);}catch(_0x52ca45){console[_0x575b0c(0x1ed)](_0x575b0c(0x2e5),_0x52ca45);}else showThemeNotification(_0x3670e5);}function showThemeNotification(_0x4e77f7){const _0x16cc99=a0_0xb758fb,_0x54d6bf=document[_0x16cc99(0x129)](_0x16cc99(0x2e7));if(_0x54d6bf)_0x54d6bf[_0x16cc99(0x2f5)]();const _0x4aebff=document['createElement'](_0x16cc99(0x2cf));_0x4aebff['id']=_0x16cc99(0x2e7),_0x4aebff['style'][_0x16cc99(0x1cc)]=_0x16cc99(0x2db)+(_0x4e77f7===_0x16cc99(0x2c3)?_0x16cc99(0x1c5):'#ffffff')+_0x16cc99(0x221)+(_0x4e77f7===_0x16cc99(0x2c3)?'#f1f5f9':_0x16cc99(0x1c5))+_0x16cc99(0x191)+(_0x4e77f7==='dark'?'#334155':_0x16cc99(0x14b))+';\x0a\x20\x20\x20\x20z-index:\x2010001;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20gap:\x2010px;\x0a\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20font-weight:\x20500;\x0a\x20\x20\x20\x20animation:\x20slideInUp\x200.3s\x20cubic-bezier(0.4,\x200,\x200.2,\x201);\x0a\x20\x20',_0x4aebff[_0x16cc99(0x250)]=_0x16cc99(0x2da)+(_0x4e77f7===_0x16cc99(0x2c3)?'moon':_0x16cc99(0x257))+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20style=\x22font-size:\x2016px;\x20color:\x20'+(_0x4e77f7===_0x16cc99(0x2c3)?'#60a5fa':'#f59e0b')+_0x16cc99(0x243)+(_0x4e77f7==='dark'?_0x16cc99(0x1eb):_0x16cc99(0x2f8))+'\x20mode\x20activated</span>\x0a\x20\x20\x20\x20<kbd\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20background:\x20'+(_0x4e77f7==='dark'?'#334155':_0x16cc99(0x23d))+';\x20\x0a\x20\x20\x20\x20\x20\x20padding:\x202px\x206px;\x20\x0a\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x20\x0a\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20margin-left:\x206px;\x0a\x20\x20\x20\x20\x20\x20font-family:\x20monospace;\x0a\x20\x20\x20\x20\x22>Alt+T</kbd>\x0a\x20\x20',document['body'][_0x16cc99(0x26d)](_0x4aebff),setTimeout(()=>{const _0x76a9af=_0x16cc99;_0x4aebff[_0x76a9af(0x2c8)][_0x76a9af(0x2aa)]=_0x76a9af(0x22a),setTimeout(()=>_0x4aebff[_0x76a9af(0x2f5)](),0x12c);},0x9c4);}function showShortcutsHelp(){const _0x364da0=a0_0xb758fb,_0x1b9465=document[_0x364da0(0x129)]('shortcuts-help-modal');if(_0x1b9465){_0x1b9465[_0x364da0(0x2f5)]();return;}const _0x152580=document[_0x364da0(0x1b7)](_0x364da0(0x2cf));_0x152580['id']=_0x364da0(0x13a),_0x152580[_0x364da0(0x2c8)][_0x364da0(0x1cc)]=_0x364da0(0x210);const _0x3b64c0=document[_0x364da0(0x200)]['getAttribute'](_0x364da0(0x160)),_0x3e5331=_0x3b64c0==='dark';_0x152580[_0x364da0(0x250)]=_0x364da0(0x1a8)+(_0x3e5331?_0x364da0(0x1ec):_0x364da0(0x1d8))+_0x364da0(0x1f9)+(_0x3e5331?_0x364da0(0x1bf):_0x364da0(0x15c))+_0x364da0(0x105)+(_0x3e5331?_0x364da0(0x2d3):_0x364da0(0x265))+_0x364da0(0x266)+(_0x3e5331?_0x364da0(0x1ec):_0x364da0(0x14b))+';\x20padding:\x204px\x208px;\x20border-radius:\x204px;\x20font-family:\x20monospace;\x20font-size:\x2012px;\x22>Alt\x20+\x20T</kbd>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20space-between;\x20align-items:\x20center;\x20padding:\x2010px;\x20background:\x20'+(_0x3e5331?_0x364da0(0x2d3):_0x364da0(0x265))+_0x364da0(0x223)+(_0x3e5331?_0x364da0(0x1ec):_0x364da0(0x14b))+_0x364da0(0x2e6)+(_0x3e5331?'#0E1116':'#f8fafc')+_0x364da0(0x12b)+(_0x3e5331?'#161A20':_0x364da0(0x14b))+_0x364da0(0x189)+(_0x3e5331?_0x364da0(0x2d3):'#f8fafc')+_0x364da0(0x157)+(_0x3e5331?'#161A20':'#e2e8f0')+';\x20padding:\x204px\x208px;\x20border-radius:\x204px;\x20font-family:\x20monospace;\x20font-size:\x2012px;\x22>Alt\x20+\x20S</kbd>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20space-between;\x20align-items:\x20center;\x20padding:\x2010px;\x20background:\x20'+(_0x3e5331?_0x364da0(0x2d3):_0x364da0(0x265))+_0x364da0(0x172)+(_0x3e5331?'#161A20':_0x364da0(0x14b))+_0x364da0(0x19d)+(_0x3e5331?_0x364da0(0x2d3):'#f8fafc')+';\x20border-radius:\x208px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Open\x20Settings</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<kbd\x20style=\x22background:\x20'+(_0x3e5331?_0x364da0(0x1ec):_0x364da0(0x14b))+_0x364da0(0x1ca)+(_0x3e5331?_0x364da0(0x2d3):'#f8fafc')+_0x364da0(0x104)+(_0x3e5331?_0x364da0(0x1ec):'#e2e8f0')+';\x20padding:\x204px\x208px;\x20border-radius:\x204px;\x20font-family:\x20monospace;\x20font-size:\x2012px;\x22>Esc</kbd>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20space-between;\x20align-items:\x20center;\x20padding:\x2010px;\x20background:\x20'+(_0x3e5331?_0x364da0(0x2d3):_0x364da0(0x265))+_0x364da0(0x26f)+(_0x3e5331?_0x364da0(0x1ec):_0x364da0(0x14b))+_0x364da0(0x21d),_0x152580[_0x364da0(0x1a0)]=_0x2b62f3=>{const _0xa33d8d=_0x364da0;if(_0x2b62f3[_0xa33d8d(0x193)]===_0x152580)_0x152580[_0xa33d8d(0x2f5)]();},document[_0x364da0(0x209)][_0x364da0(0x26d)](_0x152580);}if(!document[a0_0xb758fb(0x129)](a0_0xb758fb(0x187))){const style=document[a0_0xb758fb(0x1b7)](a0_0xb758fb(0x2c8));style['id']=a0_0xb758fb(0x187),style[a0_0xb758fb(0x1ea)]='\x0a\x20\x20\x20\x20@keyframes\x20slideInUp\x20{\x0a\x20\x20\x20\x20\x20\x20from\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(100px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20to\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20@keyframes\x20slideOutDown\x20{\x0a\x20\x20\x20\x20\x20\x20from\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20to\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(100px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20@keyframes\x20fadeIn\x20{\x0a\x20\x20\x20\x20\x20\x20from\x20{\x20opacity:\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20to\x20{\x20opacity:\x201;\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20@keyframes\x20scaleIn\x20{\x0a\x20\x20\x20\x20\x20\x20from\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20scale(0.9);\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20to\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20scale(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20',document['head'][a0_0xb758fb(0x26d)](style);}document['querySelector'](a0_0xb758fb(0x220))[a0_0xb758fb(0x21a)]('click',function(){const _0x3483b5=a0_0xb758fb,_0x3ea373=document['getElementById'](_0x3483b5(0x2c7)),_0x598ebc=document[_0x3483b5(0x129)](_0x3483b5(0x2f2));_0x3ea373[_0x3483b5(0x118)][_0x3483b5(0x2dc)](_0x3483b5(0x134)),_0x598ebc[_0x3483b5(0x23a)]=_0x598ebc['type']===_0x3483b5(0x222)?_0x3483b5(0x17b):_0x3483b5(0x222);}),document[a0_0xb758fb(0x197)]('#signupMonkey\x20.monkey')['addEventListener'](a0_0xb758fb(0x121),function(){const _0x2a09bd=a0_0xb758fb,_0x4b0ce3=document[_0x2a09bd(0x129)](_0x2a09bd(0x25f)),_0x397c53=document[_0x2a09bd(0x129)]('signupPassword');_0x4b0ce3['classList'][_0x2a09bd(0x2dc)](_0x2a09bd(0x134)),_0x397c53[_0x2a09bd(0x23a)]=_0x397c53[_0x2a09bd(0x23a)]===_0x2a09bd(0x222)?_0x2a09bd(0x17b):'password';});let notificationQueue=[],isShowingNotification=![];function showMessageNotification(_0x32ef21,_0x161cde){const _0x1d3f51=a0_0xb758fb;if(state['currentConversation']?.[_0x1d3f51(0x1dc)]===_0x161cde)return;if(_0x32ef21[_0x1d3f51(0x117)]['_id']===state[_0x1d3f51(0x184)]['id'])return;if(state[_0x1d3f51(0x184)][_0x1d3f51(0x226)]&&!state['user'][_0x1d3f51(0x226)][_0x1d3f51(0x25c)])return;const _0x107fbc=_0x32ef21[_0x1d3f51(0x117)][_0x1d3f51(0x224)];let _0x46a82d=_0x32ef21[_0x1d3f51(0x2b6)][_0x1d3f51(0x2be)]();_0x46a82d[_0x1d3f51(0x2ab)]>0x3c&&(_0x46a82d=_0x46a82d['substring'](0x0,0x3c)+'...'),notificationQueue['push']({'senderName':_0x107fbc,'messagePreview':_0x46a82d,'conversationId':_0x161cde,'avatar':_0x32ef21['sender'][_0x1d3f51(0x309)],'timestamp':new Date()}),processNotificationQueue();}function processNotificationQueue(){const _0x5552fb=a0_0xb758fb;if(isShowingNotification||notificationQueue[_0x5552fb(0x2ab)]===0x0)return;isShowingNotification=!![];const _0x2d56dd=notificationQueue[_0x5552fb(0x271)]();displayNotification(_0x2d56dd);}function displayNotification({senderName:_0x370e4f,messagePreview:_0x404be2,conversationId:_0x35a438,avatar:_0x5e7242,timestamp:_0x3d649d}){const _0x329cc2=a0_0xb758fb,_0x14f1c7=document[_0x329cc2(0x129)](_0x329cc2(0x225));_0x14f1c7&&_0x14f1c7[_0x329cc2(0x2f5)]();const _0x7a560d=document['documentElement'][_0x329cc2(0x2e4)]('data-theme'),_0x7401c3=_0x7a560d===_0x329cc2(0x2c3),_0x92759=document[_0x329cc2(0x1b7)](_0x329cc2(0x2cf));_0x92759['id']=_0x329cc2(0x225),_0x92759[_0x329cc2(0x1f4)][_0x329cc2(0x115)]='',_0x92759[_0x329cc2(0x2c8)]['cssText']=_0x329cc2(0x303)+(_0x7401c3?_0x329cc2(0x1c5):_0x329cc2(0x1d8))+_0x329cc2(0x1f2)+(_0x7401c3?'0.5':_0x329cc2(0x2f6))+_0x329cc2(0x291)+(_0x7401c3?_0x329cc2(0x144):_0x329cc2(0x194))+_0x329cc2(0x139),_0x92759[_0x329cc2(0x250)]=_0x329cc2(0x153)+_0x5e7242+_0x329cc2(0x108)+(_0x7401c3?_0x329cc2(0x23d):_0x329cc2(0x1c5))+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>New\x20message\x20from\x20'+escapeHtml(_0x370e4f)+_0x329cc2(0x279)+(_0x7401c3?'#94a3b8':_0x329cc2(0x2d1))+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background\x200.2s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22\x20onmouseover=\x22this.style.background=\x27'+(_0x7401c3?_0x329cc2(0x144):_0x329cc2(0x194))+_0x329cc2(0x24e)+(_0x7401c3?_0x329cc2(0x20f):_0x329cc2(0x190))+_0x329cc2(0x1c9)+escapeHtml(_0x404be2)+_0x329cc2(0x1ee)+(_0x7401c3?_0x329cc2(0x2d1):_0x329cc2(0x16e))+_0x329cc2(0x219)+(_0x7401c3?_0x329cc2(0x251):'rgba(0,0,0,0.05)')+_0x329cc2(0x1d7),_0x92759[_0x329cc2(0x21a)]('click',_0x4d5b07=>{const _0x2ad6cf=_0x329cc2;if(_0x4d5b07[_0x2ad6cf(0x193)][_0x2ad6cf(0x1b6)](_0x2ad6cf(0x27e)))return;openConversation(_0x35a438),closeMessageNotification();if(window[_0x2ad6cf(0x168)]<=0x300){const _0x2f5617=document[_0x2ad6cf(0x129)]('sidebar');if(_0x2f5617)_0x2f5617['classList'][_0x2ad6cf(0x27d)](_0x2ad6cf(0x273));}}),_0x92759[_0x329cc2(0x21a)](_0x329cc2(0x18d),()=>{const _0x151b67=_0x329cc2;_0x92759['style'][_0x151b67(0x275)]=_0x151b67(0x111),_0x92759[_0x151b67(0x2c8)]['boxShadow']=_0x151b67(0x1fa)+(_0x7401c3?'0.6':_0x151b67(0x2f0))+'),\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200\x200\x200\x201px\x20'+(_0x7401c3?_0x151b67(0x295):_0x151b67(0x21f));const _0x35f4c0=_0x92759[_0x151b67(0x197)]('#notification-progress-bar');_0x35f4c0&&(_0x35f4c0[_0x151b67(0x2c8)][_0x151b67(0x239)]=_0x151b67(0x1d4));const _0x2b0ce5=_0x92759[_0x151b67(0x1f4)][_0x151b67(0x115)];_0x2b0ce5&&(clearTimeout(parseInt(_0x2b0ce5)),_0x92759[_0x151b67(0x1f4)][_0x151b67(0x115)]='');}),_0x92759[_0x329cc2(0x21a)](_0x329cc2(0x198),()=>{const _0x4d922a=_0x329cc2;_0x92759[_0x4d922a(0x2c8)]['transform']='translateY(0)\x20scale(1)',_0x92759['style'][_0x4d922a(0x2b7)]=_0x4d922a(0x131)+(_0x7401c3?_0x4d922a(0x166):_0x4d922a(0x2f6))+'),\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200\x200\x200\x201px\x20'+(_0x7401c3?_0x4d922a(0x144):'rgba(0,0,0,0.05)');const _0x255c31=_0x92759[_0x4d922a(0x197)](_0x4d922a(0x169));if(_0x255c31){_0x255c31[_0x4d922a(0x2c8)][_0x4d922a(0x239)]=_0x4d922a(0x21b);const _0x12d324=window[_0x4d922a(0x215)](_0x255c31),_0x5f318c=parseFloat(_0x12d324['width']),_0x3b61e5=parseFloat(window[_0x4d922a(0x215)](_0x255c31[_0x4d922a(0x22c)])[_0x4d922a(0x1cf)]),_0x2bc680=_0x5f318c/_0x3b61e5,_0x40237e=0x1388*(0x1-_0x2bc680);if(_0x40237e>0x64){const _0x31d33d=setTimeout(()=>{closeMessageNotification();},_0x40237e);_0x92759[_0x4d922a(0x1f4)][_0x4d922a(0x115)]=_0x31d33d[_0x4d922a(0x25a)]();}}}),document[_0x329cc2(0x209)][_0x329cc2(0x26d)](_0x92759);const _0x23a70d=setTimeout(()=>{closeMessageNotification();},0x1388);_0x92759[_0x329cc2(0x1f4)]['dismissTimeout']=_0x23a70d['toString']();}function closeMessageNotification(_0x3fc8d3){const _0xc40142=a0_0xb758fb;_0x3fc8d3&&_0x3fc8d3[_0xc40142(0x25b)]();const _0x53c712=document['getElementById'](_0xc40142(0x225));_0x53c712?(_0x53c712[_0xc40142(0x2c8)][_0xc40142(0x2aa)]=_0xc40142(0x205),setTimeout(()=>{const _0x43ac46=_0xc40142;_0x53c712[_0x43ac46(0x2f5)](),isShowingNotification=![],notificationQueue[_0x43ac46(0x2ab)]>0x0&&setTimeout(()=>processNotificationQueue(),0x12c);},0x12c)):(isShowingNotification=![],notificationQueue[_0xc40142(0x2ab)]>0x0&&setTimeout(()=>processNotificationQueue(),0x12c));}if(!document['getElementById'](a0_0xb758fb(0x1b8))){const style=document[a0_0xb758fb(0x1b7)](a0_0xb758fb(0x2c8));style['id']=a0_0xb758fb(0x1b8),style[a0_0xb758fb(0x1ea)]=a0_0xb758fb(0x1a5),document[a0_0xb758fb(0x1b4)]['appendChild'](style);}function handleNewMessage(_0x236ccf){const _0x5afc93=a0_0xb758fb,_0x39bfdb=_0x236ccf[_0x5afc93(0x28e)];!state[_0x5afc93(0x20e)][_0x39bfdb]&&(state['messages'][_0x39bfdb]=[]);state[_0x5afc93(0x20e)][_0x39bfdb][_0x5afc93(0x176)](_0x236ccf);const _0x95e156=state['conversations'][_0x5afc93(0x16d)](_0x189690=>_0x189690[_0x5afc93(0x1dc)]===_0x39bfdb);if(_0x95e156){_0x95e156[_0x5afc93(0x11b)]={'text':_0x236ccf['content'],'sender':_0x236ccf[_0x5afc93(0x117)][_0x5afc93(0x1dc)],'time':_0x236ccf[_0x5afc93(0x260)]};if(state['currentConversation']?.[_0x5afc93(0x1dc)]!==_0x39bfdb&&_0x236ccf['sender'][_0x5afc93(0x1dc)]!==state[_0x5afc93(0x184)]['id']){if(!_0x95e156['unreadCount'])_0x95e156[_0x5afc93(0x26a)]={};_0x95e156[_0x5afc93(0x26a)][state[_0x5afc93(0x184)]['id']]=(_0x95e156[_0x5afc93(0x26a)][state['user']['id']]||0x0)+0x1,showMessageNotification(_0x236ccf,_0x39bfdb);}state[_0x5afc93(0x196)]=[_0x95e156,...state[_0x5afc93(0x196)][_0x5afc93(0x124)](_0x17d40e=>_0x17d40e[_0x5afc93(0x1dc)]!==_0x39bfdb)],renderConversations();}state[_0x5afc93(0x138)]?.[_0x5afc93(0x1dc)]===_0x39bfdb&&(renderMessages(_0x39bfdb),markConversationAsRead(_0x39bfdb)),playNotificationSound();}function playNotificationSound(){const _0x31ee99=a0_0xb758fb;if(!state[_0x31ee99(0x184)][_0x31ee99(0x226)]||!state['user'][_0x31ee99(0x226)]['notifications'])return;const _0x3400d7=new(window['AudioContext']||window[(_0x31ee99(0x1f5))])(),_0x4d811e=_0x3400d7['createOscillator'](),_0x51974f=_0x3400d7[_0x31ee99(0x170)]();_0x4d811e[_0x31ee99(0x261)](_0x51974f),_0x51974f[_0x31ee99(0x261)](_0x3400d7['destination']),_0x4d811e[_0x31ee99(0x269)][_0x31ee99(0x1cb)]=0x320,_0x4d811e[_0x31ee99(0x23a)]=_0x31ee99(0x2ec),_0x51974f[_0x31ee99(0x177)][_0x31ee99(0x17e)](0.1,_0x3400d7[_0x31ee99(0x21e)]),_0x51974f['gain'][_0x31ee99(0x2d0)](0.01,_0x3400d7[_0x31ee99(0x21e)]+0.1),_0x4d811e[_0x31ee99(0x277)](_0x3400d7[_0x31ee99(0x21e)]),_0x4d811e[_0x31ee99(0x259)](_0x3400d7[_0x31ee99(0x21e)]+0.1);}let replyingTo=null;const REACTIONS=['👍','❤️','😂','😮','😢','🙏'];function renderMessages(_0x2c5602){const _0x1339f6=a0_0xb758fb;if(state['currentConversation']?.[_0x1339f6(0x1dc)]!==_0x2c5602)return;const _0x276284=document[_0x1339f6(0x129)](_0x1339f6(0x14f));if(!_0x276284)return;const _0x2b74a6=state['messages'][_0x2c5602]||[];_0x276284[_0x1339f6(0x250)]=_0x2b74a6[_0x1339f6(0x10e)]((_0x4ed46e,_0x2f3c29)=>{const _0x4737b3=_0x1339f6,_0x4dfd39=_0x4ed46e[_0x4737b3(0x117)]['_id']===state['user']['id'],_0x8434ad=formatTime(_0x4ed46e[_0x4737b3(0x260)]),_0x13959=_0x4ed46e[_0x4737b3(0x1ac)]?_0x4737b3(0x201):'';let _0x52e9cb='';if(_0x4ed46e[_0x4737b3(0x103)]){let _0x4f59c9=null;typeof _0x4ed46e[_0x4737b3(0x103)]==='object'&&_0x4ed46e[_0x4737b3(0x103)]!==null?_0x4f59c9=_0x4ed46e[_0x4737b3(0x103)]:_0x4f59c9=_0x2b74a6[_0x4737b3(0x16d)](_0x488089=>_0x488089[_0x4737b3(0x1dc)]===_0x4ed46e[_0x4737b3(0x103)]||_0x488089['_id']===_0x4ed46e[_0x4737b3(0x103)][_0x4737b3(0x1dc)]);if(_0x4f59c9){const _0x3f17f2=_0x4f59c9[_0x4737b3(0x117)]?.['username']||_0x4737b3(0x1a6),_0x464878=_0x4f59c9['content']||'',_0x2c0870=_0x4f59c9[_0x4737b3(0x1dc)]||_0x4ed46e[_0x4737b3(0x103)];_0x52e9cb=_0x4737b3(0x235)+_0x2c0870+_0x4737b3(0x163)+(_0x4dfd39?'rgba(0,\x200,\x200,\x200.1)':_0x4737b3(0x1c2))+_0x4737b3(0x281)+(_0x4dfd39?_0x4737b3(0x28a):_0x4737b3(0x1c8))+_0x4737b3(0x2ae)+(_0x4dfd39?'rgba(0,\x200,\x200,\x200.1)':_0x4737b3(0x1c2))+_0x4737b3(0x2e1)+escapeHtml(_0x3f17f2)+_0x4737b3(0x25e)+escapeHtml(_0x464878)[_0x4737b3(0x154)](0x0,0x32)+(_0x464878[_0x4737b3(0x2ab)]>0x32?_0x4737b3(0x179):'')+_0x4737b3(0x216);}}let _0x4c10ed='';if(_0x4ed46e[_0x4737b3(0x1b9)]&&Object['keys'](_0x4ed46e[_0x4737b3(0x1b9)])[_0x4737b3(0x2ab)]>0x0){const _0x2a609c={};Object[_0x4737b3(0x2b3)](_0x4ed46e[_0x4737b3(0x1b9)])[_0x4737b3(0x2d7)](([_0x1aeeca,_0x1a0087])=>{_0x2a609c[_0x1a0087]=(_0x2a609c[_0x1a0087]||0x0)+0x1;}),_0x4c10ed='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-reactions\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-wrap:\x20wrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+Object[_0x4737b3(0x2b3)](_0x2a609c)[_0x4737b3(0x10e)](([_0x297013,_0x10d13d])=>{const _0x23c5bf=_0x4737b3,_0xe281c1=_0x4ed46e[_0x23c5bf(0x1b9)][state['user']['id']]===_0x297013;return _0x23c5bf(0x238)+_0x4ed46e[_0x23c5bf(0x1dc)]+'\x27,\x20\x27'+_0x297013+_0x23c5bf(0x1c4)+(_0xe281c1?_0x23c5bf(0x110):_0x23c5bf(0x1c2))+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20'+(_0xe281c1?_0x23c5bf(0x2d4):_0x23c5bf(0x162))+_0x23c5bf(0x1a1)+_0x297013+_0x23c5bf(0x2c4)+(_0xe281c1?_0x23c5bf(0x2d4):_0x23c5bf(0x211))+_0x23c5bf(0x26b)+_0x10d13d+_0x23c5bf(0x2d6);})[_0x4737b3(0x2ea)]('')+_0x4737b3(0x109);}return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22message\x20'+(_0x4dfd39?_0x4737b3(0x2a8):'')+_0x4737b3(0x268)+_0x4ed46e[_0x4737b3(0x1dc)]+_0x4737b3(0x1fc)+_0x4ed46e['_id']+_0x4737b3(0x1dd)+_0x4ed46e['sender']['avatar']+_0x4737b3(0x1e8)+(!_0x4dfd39?_0x4737b3(0x17f)+_0x4ed46e['sender'][_0x4737b3(0x224)]+_0x4737b3(0x2fe):'')+_0x4737b3(0x132)+_0x52e9cb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+escapeHtml(_0x4ed46e[_0x4737b3(0x2b6)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Message\x20Actions\x20Button\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22message-actions-btn\x22\x20onclick=\x22showMessageActions(event,\x20\x27'+_0x4ed46e[_0x4737b3(0x1dc)]+'\x27,\x20'+_0x4dfd39+_0x4737b3(0x2bd)+(_0x4dfd39?_0x4737b3(0x2ca):_0x4737b3(0x12c))+_0x4737b3(0x289)+_0x4c10ed+_0x4737b3(0x29c)+_0x8434ad+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x13959+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4dfd39&&_0x4ed46e['readBy'][_0x4737b3(0x2ab)]>0x1?'<i\x20class=\x22fas\x20fa-check-double\x22></i>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';})['join'](''),_0x276284[_0x1339f6(0x1da)](_0x1339f6(0x174))['forEach'](_0x50a9d0=>{const _0x460bab=_0x1339f6;_0x50a9d0[_0x460bab(0x21a)]('mouseenter',()=>{const _0x4edeb9=_0x460bab,_0x532112=_0x50a9d0[_0x4edeb9(0x197)](_0x4edeb9(0x306));if(_0x532112)_0x532112[_0x4edeb9(0x2c8)][_0x4edeb9(0x1fb)]='flex';}),_0x50a9d0['addEventListener']('mouseleave',()=>{const _0x962ba7=_0x460bab,_0x1cf138=_0x50a9d0['querySelector'](_0x962ba7(0x306));if(_0x1cf138)_0x1cf138[_0x962ba7(0x2c8)][_0x962ba7(0x1fb)]=_0x962ba7(0x299);});}),_0x276284['scrollTop']=_0x276284['scrollHeight'];}function showMessageActions(_0x148c50,_0x24afd7,_0x386c3c){const _0x4d8ffb=a0_0xb758fb;_0x148c50[_0x4d8ffb(0x25b)]();const _0xfb2183=document['getElementById'](_0x4d8ffb(0x2fb));if(_0xfb2183)_0xfb2183[_0x4d8ffb(0x2f5)]();const _0x137da5=document['documentElement']['getAttribute'](_0x4d8ffb(0x160)),_0xbefc8f=_0x137da5===_0x4d8ffb(0x2c3),_0x5eca45=document['createElement'](_0x4d8ffb(0x2cf));_0x5eca45['id']=_0x4d8ffb(0x2fb),_0x5eca45[_0x4d8ffb(0x2c8)][_0x4d8ffb(0x1cc)]='\x0a\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20background:\x20'+(_0xbefc8f?_0x4d8ffb(0x1c5):'#ffffff')+_0x4d8ffb(0x2a2)+(_0xbefc8f?'#334155':_0x4d8ffb(0x14b))+_0x4d8ffb(0x2b8);const _0x33871b=[{'icon':_0x4d8ffb(0x19f),'label':_0x4d8ffb(0x29b),'action':()=>replyToMessage(_0x24afd7),'color':_0x4d8ffb(0x199)},{'icon':_0x4d8ffb(0x23b),'label':_0x4d8ffb(0x29e),'action':()=>showReactionPicker(_0x148c50,_0x24afd7),'color':'#f59e0b'},{'icon':_0x4d8ffb(0x19a),'label':'Copy','action':()=>copyMessage(_0x24afd7),'color':_0x4d8ffb(0x195)},{'icon':'fa-share','label':'Forward','action':()=>forwardMessage(_0x24afd7),'color':'#06b6d4'}];_0x386c3c&&_0x33871b[_0x4d8ffb(0x176)]({'icon':'fa-edit','label':_0x4d8ffb(0x18c),'action':()=>editMessage(_0x24afd7),'color':_0x4d8ffb(0x183)},{'icon':_0x4d8ffb(0x23f),'label':_0x4d8ffb(0x1ad),'action':()=>deleteMessage(_0x24afd7),'color':_0x4d8ffb(0x242)});_0x5eca45[_0x4d8ffb(0x250)]=_0x33871b['map'](({icon:_0x5acd54,label:_0x37bf40,action:_0x314a6d,color:_0x161563},_0xb40be4)=>_0x4d8ffb(0x127)+_0xb40be4+_0x4d8ffb(0x287)+(_0xbefc8f?'#e2e8f0':_0x4d8ffb(0x2f1))+_0x4d8ffb(0x1ff)+(_0xbefc8f?_0x4d8ffb(0x2f1):_0x4d8ffb(0x265))+_0x4d8ffb(0x1de)+_0x5acd54+'\x22\x20style=\x22color:\x20'+_0x161563+_0x4d8ffb(0x2fd)+_0x37bf40+'</span>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20')[_0x4d8ffb(0x2ea)](''),_0x5eca45['querySelectorAll'](_0x4d8ffb(0x141))[_0x4d8ffb(0x2d7)]((_0x3dd288,_0x462f8d)=>{_0x3dd288['addEventListener']('click',_0xf5423d=>{_0xf5423d['stopPropagation'](),_0x33871b[_0x462f8d]['action'](),closeMessageActions();});}),document[_0x4d8ffb(0x209)][_0x4d8ffb(0x26d)](_0x5eca45);const _0x31a5cb=_0x148c50[_0x4d8ffb(0x193)][_0x4d8ffb(0x1b6)](_0x4d8ffb(0x306))[_0x4d8ffb(0x308)](),_0x4b86d2=_0x5eca45[_0x4d8ffb(0x308)]();let _0x1a45db=_0x31a5cb[_0x4d8ffb(0x2ce)]+0x8,_0x24da02=_0x31a5cb['left'];_0x1a45db+_0x4b86d2[_0x4d8ffb(0x2e3)]>window[_0x4d8ffb(0x1c0)]&&(_0x1a45db=_0x31a5cb['top']-_0x4b86d2[_0x4d8ffb(0x2e3)]-0x8),_0x24da02+_0x4b86d2['width']>window[_0x4d8ffb(0x168)]&&(_0x24da02=_0x31a5cb['right']-_0x4b86d2[_0x4d8ffb(0x1cf)]),_0x5eca45[_0x4d8ffb(0x2c8)][_0x4d8ffb(0x2e9)]=_0x1a45db+'px',_0x5eca45[_0x4d8ffb(0x2c8)][_0x4d8ffb(0x214)]=_0x24da02+'px',setTimeout(()=>{const _0x952c1d=_0x4d8ffb;document[_0x952c1d(0x21a)](_0x952c1d(0x121),closeMessageActions);},0x0);}function closeMessageActions(){const _0x724f0f=a0_0xb758fb,_0x1366a5=document[_0x724f0f(0x129)](_0x724f0f(0x2fb));if(_0x1366a5)_0x1366a5[_0x724f0f(0x2f5)]();document[_0x724f0f(0x293)](_0x724f0f(0x121),closeMessageActions);}function replyToMessage(_0x30864f){const _0x183020=a0_0xb758fb,_0x3c49da=state[_0x183020(0x20e)][state[_0x183020(0x138)][_0x183020(0x1dc)]]||[],_0x45e5b6=_0x3c49da[_0x183020(0x16d)](_0x45dbdc=>_0x45dbdc['_id']===_0x30864f);if(!_0x45e5b6)return;replyingTo=_0x45e5b6;const _0x4b280b=document[_0x183020(0x129)]('messageInput'),_0x52d1e6=document[_0x183020(0x129)]('messageForm');if(!_0x4b280b||!_0x52d1e6)return;const _0x32c5b7=document[_0x183020(0x129)]('reply-preview');if(_0x32c5b7)_0x32c5b7['remove']();const _0x47589f=document['documentElement'][_0x183020(0x2e4)](_0x183020(0x160)),_0xdc5474=_0x47589f==='dark',_0x44d2d6=document[_0x183020(0x1b7)](_0x183020(0x2cf));_0x44d2d6['id']=_0x183020(0x2c0),_0x44d2d6[_0x183020(0x2c8)][_0x183020(0x1cc)]='\x0a\x20\x20\x20\x20background:\x20'+(_0xdc5474?_0x183020(0x1c5):_0x183020(0x265))+_0x183020(0x101),_0x44d2d6[_0x183020(0x250)]=_0x183020(0x241)+_0x45e5b6[_0x183020(0x117)]['username']+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x2013px;\x20color:\x20var(--text-light);\x20overflow:\x20hidden;\x20text-overflow:\x20ellipsis;\x20white-space:\x20nowrap;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+escapeHtml(_0x45e5b6['content'])[_0x183020(0x154)](0x0,0x3c)+(_0x45e5b6[_0x183020(0x2b6)]['length']>0x3c?'...':'')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<button\x20onclick=\x22cancelReply()\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20color:\x20var(--text-light);\x0a\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20padding:\x204px\x208px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20transition:\x20background\x200.2s\x20ease;\x0a\x20\x20\x20\x20\x22\x20onmouseover=\x22this.style.background=\x27rgba(0,0,0,0.1)\x27\x22\x20onmouseout=\x22this.style.background=\x27none\x27\x22>\x0a\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20',_0x52d1e6['insertBefore'](_0x44d2d6,_0x52d1e6[_0x183020(0x285)]),_0x4b280b['focus']();}function cancelReply(){const _0x543fd1=a0_0xb758fb;replyingTo=null;const _0x5bbf19=document[_0x543fd1(0x129)]('reply-preview');if(_0x5bbf19)_0x5bbf19[_0x543fd1(0x2f5)]();}function showReactionPicker(_0x40bd6a,_0x5d8811){const _0x353409=a0_0xb758fb;closeMessageActions();const _0x45e898=document[_0x353409(0x129)](_0x353409(0x300));if(_0x45e898)_0x45e898['remove']();const _0x512bed=document['documentElement'][_0x353409(0x2e4)](_0x353409(0x160)),_0x3f1931=_0x512bed===_0x353409(0x2c3),_0x1ab333=document['createElement'](_0x353409(0x2cf));_0x1ab333['id']=_0x353409(0x300),_0x1ab333[_0x353409(0x2c8)][_0x353409(0x1cc)]=_0x353409(0x130)+(_0x3f1931?_0x353409(0x1c5):_0x353409(0x1d8))+';\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20'+(_0x3f1931?'#334155':_0x353409(0x14b))+_0x353409(0x23c),_0x1ab333[_0x353409(0x250)]=REACTIONS[_0x353409(0x10e)](_0x3919c0=>_0x353409(0x185)+_0x5d8811+'\x27,\x20\x27'+_0x3919c0+_0x353409(0x249)+_0x3919c0+_0x353409(0x171))[_0x353409(0x2ea)](''),document[_0x353409(0x209)][_0x353409(0x26d)](_0x1ab333);const _0x4d85bd=_0x40bd6a[_0x353409(0x193)][_0x353409(0x1b6)](_0x353409(0x174))[_0x353409(0x308)]();_0x1ab333[_0x353409(0x2c8)][_0x353409(0x2e9)]=_0x4d85bd[_0x353409(0x2e9)]-_0x1ab333[_0x353409(0x1c6)]-0x8+'px',_0x1ab333[_0x353409(0x2c8)][_0x353409(0x214)]=_0x4d85bd[_0x353409(0x214)]+_0x4d85bd[_0x353409(0x1cf)]/0x2-_0x1ab333[_0x353409(0x18b)]/0x2+'px',setTimeout(()=>{const _0xdaad37=_0x353409;document[_0xdaad37(0x21a)](_0xdaad37(0x121),closeReactionPicker);},0x0);}function closeReactionPicker(){const _0x24199d=a0_0xb758fb,_0x21182f=document[_0x24199d(0x129)]('reaction-picker');if(_0x21182f)_0x21182f['remove']();document[_0x24199d(0x293)]('click',closeReactionPicker);}async function addReaction(_0x46b624,_0x38d5b0){const _0x4125e1=a0_0xb758fb;closeReactionPicker();try{const _0x1bc740=await fetch(API_URL+'/messages/'+_0x46b624+_0x4125e1(0x161),{'method':'PATCH','headers':{'Content-Type':_0x4125e1(0x229),'Authorization':_0x4125e1(0x240)+state[_0x4125e1(0x280)]},'body':JSON[_0x4125e1(0x1b1)]({'emoji':_0x38d5b0})});if(!_0x1bc740['ok'])throw new Error(_0x4125e1(0x116));const _0x24f378=await _0x1bc740[_0x4125e1(0x252)](),_0x908ddc=state[_0x4125e1(0x20e)][state[_0x4125e1(0x138)][_0x4125e1(0x1dc)]],_0x34ac65=_0x908ddc[_0x4125e1(0x2e0)](_0x303ab3=>_0x303ab3['_id']===_0x46b624);_0x34ac65!==-0x1&&(_0x908ddc[_0x34ac65]=_0x24f378,renderMessages(state[_0x4125e1(0x138)][_0x4125e1(0x1dc)]));}catch(_0x405b3b){console[_0x4125e1(0x1ed)](_0x4125e1(0x2c1),_0x405b3b),showToast(_0x4125e1(0x116),'error');}}async function toggleReaction(_0x102904,_0x230827){await addReaction(_0x102904,_0x230827);}function copyMessage(_0x266a86){const _0x8e97c9=a0_0xb758fb,_0x213f86=state[_0x8e97c9(0x20e)][state[_0x8e97c9(0x138)][_0x8e97c9(0x1dc)]]||[],_0x2f3d10=_0x213f86[_0x8e97c9(0x16d)](_0x16aec0=>_0x16aec0[_0x8e97c9(0x1dc)]===_0x266a86);if(!_0x2f3d10)return;navigator['clipboard'][_0x8e97c9(0x12e)](_0x2f3d10['content'])[_0x8e97c9(0x16a)](()=>{const _0x21e675=_0x8e97c9;showToast(_0x21e675(0x1be),_0x21e675(0x27b));})[_0x8e97c9(0x298)](()=>{const _0x58e8d0=_0x8e97c9;showToast(_0x58e8d0(0x2a0),_0x58e8d0(0x1ed));});}function forwardMessage(_0x45c624){const _0xeae8b0=a0_0xb758fb,_0x514559=state['messages'][state[_0xeae8b0(0x138)][_0xeae8b0(0x1dc)]]||[],_0x367123=_0x514559[_0xeae8b0(0x16d)](_0x3d3aa3=>_0x3d3aa3[_0xeae8b0(0x1dc)]===_0x45c624);if(!_0x367123)return;showForwardModal(_0x367123);}function showForwardModal(_0x4bf147){const _0x2a4ead=a0_0xb758fb,_0x456ce7=document[_0x2a4ead(0x129)]('forward-modal');if(_0x456ce7)_0x456ce7['remove']();const _0x41566f=document[_0x2a4ead(0x200)][_0x2a4ead(0x2e4)](_0x2a4ead(0x160)),_0x28f704=_0x41566f===_0x2a4ead(0x2c3),_0x27a13f=document[_0x2a4ead(0x1b7)](_0x2a4ead(0x2cf));_0x27a13f['id']=_0x2a4ead(0x18f),_0x27a13f[_0x2a4ead(0x13c)]=_0x2a4ead(0x1aa),_0x27a13f[_0x2a4ead(0x2c8)]['cssText']=_0x2a4ead(0x29f),_0x27a13f['innerHTML']=_0x2a4ead(0x2b2)+(_0x28f704?_0x2a4ead(0x1c5):_0x2a4ead(0x265))+_0x2a4ead(0x102)+escapeHtml(_0x4bf147[_0x2a4ead(0x2b6)])[_0x2a4ead(0x154)](0x0,0x64)+(_0x4bf147[_0x2a4ead(0x2b6)][_0x2a4ead(0x2ab)]>0x64?_0x2a4ead(0x179):'')+_0x2a4ead(0x1b3)+state['conversations'][_0x2a4ead(0x124)](_0x1efd0d=>_0x1efd0d[_0x2a4ead(0x1dc)]!==state['currentConversation'][_0x2a4ead(0x1dc)])[_0x2a4ead(0x10e)](_0x2a79ad=>_0x2a4ead(0x100)+_0x2a79ad[_0x2a4ead(0x1dc)]+_0x2a4ead(0x123)+_0x4bf147[_0x2a4ead(0x1dc)]+_0x2a4ead(0x13f)+(_0x28f704?_0x2a4ead(0x2f1):_0x2a4ead(0x23d))+_0x2a4ead(0x270)+getConversationAvatar(_0x2a79ad)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22flex:\x201;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-weight:\x20600;\x20font-size:\x2014px;\x22>'+getConversationName(_0x2a79ad)+_0x2a4ead(0x1cd)+(_0x2a79ad['type']===_0x2a4ead(0x2c6)?_0x2a4ead(0x2a4):_0x2a4ead(0x2b9))+_0x2a4ead(0x13e))[_0x2a4ead(0x2ea)]('')+_0x2a4ead(0x254),document[_0x2a4ead(0x209)]['appendChild'](_0x27a13f),_0x27a13f[_0x2a4ead(0x21a)]('click',_0x38aa50=>{if(_0x38aa50['target']===_0x27a13f)closeForwardModal();});}function closeForwardModal(){const _0x2822fc=a0_0xb758fb,_0x3a8630=document['getElementById'](_0x2822fc(0x18f));if(_0x3a8630)_0x3a8630[_0x2822fc(0x2f5)]();}async function confirmForward(_0x532196,_0x2cf5b2){const _0x344c4f=a0_0xb758fb,_0x256f25=state['messages'][state[_0x344c4f(0x138)][_0x344c4f(0x1dc)]]||[],_0x25d098=_0x256f25[_0x344c4f(0x16d)](_0x218083=>_0x218083[_0x344c4f(0x1dc)]===_0x2cf5b2);if(!_0x25d098)return;try{const _0x327561=await fetch(API_URL+_0x344c4f(0x17d),{'method':_0x344c4f(0x237),'headers':{'Content-Type':_0x344c4f(0x229),'Authorization':_0x344c4f(0x240)+state[_0x344c4f(0x280)]},'body':JSON[_0x344c4f(0x1b1)]({'conversationId':_0x532196,'content':_0x25d098[_0x344c4f(0x2b6)],'forwarded':!![]})});if(!_0x327561['ok'])throw new Error(_0x344c4f(0x2dd));closeForwardModal(),showToast(_0x344c4f(0x19c),'success');}catch(_0xd52020){console[_0x344c4f(0x1ed)]('Error\x20forwarding\x20message:',_0xd52020),showToast('Failed\x20to\x20forward\x20message',_0x344c4f(0x1ed));}}function editMessage(_0x418ff7){const _0x5caedb=a0_0xb758fb,_0x153391=state[_0x5caedb(0x20e)][state[_0x5caedb(0x138)][_0x5caedb(0x1dc)]]||[],_0xc0c2c5=_0x153391[_0x5caedb(0x16d)](_0x44df8b=>_0x44df8b['_id']===_0x418ff7);if(!_0xc0c2c5)return;const _0x5a5020=document[_0x5caedb(0x129)](_0x5caedb(0x125)),_0x2f8ece=document[_0x5caedb(0x129)](_0x5caedb(0x22d));if(!_0x5a5020||!_0x2f8ece)return;cancelReply(),_0x5a5020['value']=_0xc0c2c5[_0x5caedb(0x2b6)],_0x5a5020[_0x5caedb(0x1f4)][_0x5caedb(0x217)]=_0x418ff7,_0x2f8ece['innerHTML']='<i\x20class=\x22fas\x20fa-check\x22></i>',_0x2f8ece[_0x5caedb(0x2c8)][_0x5caedb(0x137)]=_0x5caedb(0x305);const _0x5a30c6=document['getElementById']('edit-cancel-btn');if(_0x5a30c6)_0x5a30c6[_0x5caedb(0x2f5)]();const _0xf2aa9d=document[_0x5caedb(0x1b7)](_0x5caedb(0x27e));_0xf2aa9d['id']=_0x5caedb(0x28d),_0xf2aa9d[_0x5caedb(0x23a)]=_0x5caedb(0x27e),_0xf2aa9d['className']=_0x5caedb(0x1a2),_0xf2aa9d[_0x5caedb(0x2c8)][_0x5caedb(0x1cc)]='margin-right:\x208px;',_0xf2aa9d[_0x5caedb(0x250)]='<i\x20class=\x22fas\x20fa-times\x22></i>',_0xf2aa9d[_0x5caedb(0x1a0)]=cancelEdit,_0x2f8ece['parentElement'][_0x5caedb(0x233)](_0xf2aa9d,_0x2f8ece),_0x5a5020[_0x5caedb(0x292)](),_0x5a5020[_0x5caedb(0x2bf)](_0xc0c2c5[_0x5caedb(0x2b6)][_0x5caedb(0x2ab)],_0xc0c2c5['content']['length']),scrollToMessage(_0x418ff7);}function cancelEdit(){const _0x21bb73=a0_0xb758fb,_0x2d1e76=document['getElementById']('messageInput'),_0x28bbcd=document[_0x21bb73(0x129)]('sendBtn'),_0x246b41=document[_0x21bb73(0x129)](_0x21bb73(0x28d));_0x2d1e76&&(_0x2d1e76[_0x21bb73(0x1cb)]='',delete _0x2d1e76[_0x21bb73(0x1f4)]['editingId']);_0x28bbcd&&(_0x28bbcd['innerHTML']=_0x21bb73(0x140),_0x28bbcd[_0x21bb73(0x2c8)][_0x21bb73(0x137)]=_0x21bb73(0x2ef));if(_0x246b41)_0x246b41['remove']();}function deleteMessage(_0x28d69e){if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20message?'))return;deleteMessageConfirmed(_0x28d69e);}async function deleteMessageConfirmed(_0x1e40ec){const _0x27fd89=a0_0xb758fb;try{const _0x6f1f37=await fetch(API_URL+_0x27fd89(0x203)+_0x1e40ec,{'method':'DELETE','headers':{'Authorization':_0x27fd89(0x240)+state[_0x27fd89(0x280)]}});if(!_0x6f1f37['ok'])throw new Error(_0x27fd89(0x284));const _0x2f7721=state[_0x27fd89(0x20e)][state[_0x27fd89(0x138)][_0x27fd89(0x1dc)]],_0x2a0cb0=_0x2f7721[_0x27fd89(0x2e0)](_0x3da96c=>_0x3da96c[_0x27fd89(0x1dc)]===_0x1e40ec);_0x2a0cb0!==-0x1&&(_0x2f7721[_0x27fd89(0x234)](_0x2a0cb0,0x1),renderMessages(state[_0x27fd89(0x138)][_0x27fd89(0x1dc)])),showToast(_0x27fd89(0x19e),_0x27fd89(0x27b));}catch(_0x24b700){console['error'](_0x27fd89(0x1d0),_0x24b700),showToast(_0x27fd89(0x284),_0x27fd89(0x1ed));}}function scrollToMessage(_0x36ce2b){const _0x27b56b=a0_0xb758fb,_0x1cfab8=document[_0x27b56b(0x129)]('message-'+_0x36ce2b);if(!_0x1cfab8)return;_0x1cfab8[_0x27b56b(0x2b5)]({'behavior':_0x27b56b(0x206),'block':_0x27b56b(0x247)}),_0x1cfab8[_0x27b56b(0x2c8)][_0x27b56b(0x137)]='rgba(0,\x20196,\x20106,\x200.1)',setTimeout(()=>{const _0x2c788f=_0x27b56b;_0x1cfab8['style'][_0x2c788f(0x137)]='';},0x5dc);}function showToast(_0x442ae7,_0x252331=a0_0xb758fb(0x245)){const _0x3eb4d0=a0_0xb758fb,_0x53bac8=document[_0x3eb4d0(0x129)](_0x3eb4d0(0x10f));if(_0x53bac8)_0x53bac8[_0x3eb4d0(0x2f5)]();const _0x42b87d={'success':_0x3eb4d0(0x183),'error':'#ef4444','info':_0x3eb4d0(0x199)},_0x58aa2c={'success':_0x3eb4d0(0x2b4),'error':_0x3eb4d0(0x282),'info':_0x3eb4d0(0x228)},_0x18ecd6=document[_0x3eb4d0(0x1b7)](_0x3eb4d0(0x2cf));_0x18ecd6['id']=_0x3eb4d0(0x10f),_0x18ecd6[_0x3eb4d0(0x2c8)][_0x3eb4d0(0x1cc)]=_0x3eb4d0(0x14c)+_0x42b87d[_0x252331]+_0x3eb4d0(0x263),_0x18ecd6['innerHTML']=_0x3eb4d0(0x120)+_0x58aa2c[_0x252331]+_0x3eb4d0(0x192)+_0x442ae7+_0x3eb4d0(0x1c3),document[_0x3eb4d0(0x209)][_0x3eb4d0(0x26d)](_0x18ecd6),setTimeout(()=>{const _0x21ef7a=_0x3eb4d0;_0x18ecd6[_0x21ef7a(0x2c8)]['animation']=_0x21ef7a(0x278),setTimeout(()=>_0x18ecd6[_0x21ef7a(0x2f5)](),0x12c);},0x9c4);}const messageFormHandler=document[a0_0xb758fb(0x129)]('messageForm');messageFormHandler&&(messageFormHandler[a0_0xb758fb(0x293)](a0_0xb758fb(0x152),null),messageFormHandler[a0_0xb758fb(0x21a)]('submit',async _0x388596=>{const _0x5447bb=a0_0xb758fb;_0x388596[_0x5447bb(0x264)]();const _0xe12ab5=document[_0x5447bb(0x129)](_0x5447bb(0x125)),_0x124e83=document[_0x5447bb(0x129)](_0x5447bb(0x22d));if(!_0xe12ab5||!_0x124e83)return;const _0x3c72ff=_0xe12ab5[_0x5447bb(0x1cb)][_0x5447bb(0x2be)]();if(!_0x3c72ff||!state[_0x5447bb(0x138)])return;const _0x30fa9e=_0xe12ab5['dataset'][_0x5447bb(0x217)];if(_0x30fa9e){_0x124e83[_0x5447bb(0x1db)]=!![];try{const _0x31253b=await fetch(API_URL+_0x5447bb(0x203)+_0x30fa9e,{'method':_0x5447bb(0x2c5),'headers':{'Content-Type':'application/json','Authorization':_0x5447bb(0x240)+state[_0x5447bb(0x280)]},'body':JSON[_0x5447bb(0x1b1)]({'content':_0x3c72ff})});if(!_0x31253b['ok'])throw new Error(_0x5447bb(0x1ef));const _0x5dfd9f=await _0x31253b['json'](),_0x1b7787=state['messages'][state['currentConversation'][_0x5447bb(0x1dc)]],_0x155b6a=_0x1b7787[_0x5447bb(0x2e0)](_0x4dfa3b=>_0x4dfa3b['_id']===_0x30fa9e);_0x155b6a!==-0x1&&(_0x1b7787[_0x155b6a]=_0x5dfd9f,renderMessages(state['currentConversation']['_id'])),cancelEdit(),showToast(_0x5447bb(0x2a6),_0x5447bb(0x27b));}catch(_0x327c26){console[_0x5447bb(0x1ed)]('Error\x20updating\x20message:',_0x327c26),showToast('Failed\x20to\x20update\x20message',_0x5447bb(0x1ed));}finally{_0x124e83[_0x5447bb(0x1db)]=![];}return;}_0x124e83[_0x5447bb(0x1db)]=!![];const _0x3aca5a=_0x124e83[_0x5447bb(0x250)];_0x124e83['innerHTML']=_0x5447bb(0x2eb);try{const _0x4a5076={'conversationId':state[_0x5447bb(0x138)][_0x5447bb(0x1dc)],'content':_0x3c72ff};replyingTo&&(_0x4a5076[_0x5447bb(0x103)]=replyingTo[_0x5447bb(0x1dc)]);const _0x7b2294=await fetch(API_URL+_0x5447bb(0x17d),{'method':_0x5447bb(0x237),'headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+state[_0x5447bb(0x280)]},'body':JSON[_0x5447bb(0x1b1)](_0x4a5076)});if(!_0x7b2294['ok'])throw new Error(_0x5447bb(0x28f));_0xe12ab5[_0x5447bb(0x1cb)]='',cancelReply(),state[_0x5447bb(0x2bb)]&&state[_0x5447bb(0x2bb)]['emit'](_0x5447bb(0x244),{'conversationId':state[_0x5447bb(0x138)][_0x5447bb(0x1dc)],'isTyping':![]});}catch(_0x46fce1){console['error']('Error\x20sending\x20message:',_0x46fce1),showToast(_0x5447bb(0x28f),_0x5447bb(0x1ed));}finally{_0x124e83[_0x5447bb(0x1db)]=![],_0x124e83[_0x5447bb(0x250)]=_0x3aca5a;}}));if(!document[a0_0xb758fb(0x129)](a0_0xb758fb(0x158))){const style=document[a0_0xb758fb(0x1b7)](a0_0xb758fb(0x2c8));style['id']=a0_0xb758fb(0x158),style[a0_0xb758fb(0x1ea)]=a0_0xb758fb(0x165),document[a0_0xb758fb(0x1b4)][a0_0xb758fb(0x26d)](style);}function addMessageActionSocketListeners(){const _0x209dfb=a0_0xb758fb;if(!state['socket'])return;state['socket']['on']('messageUpdated',_0x4dff33=>{const _0x2da40e=a0_0x4f0b,_0x218049=_0x4dff33[_0x2da40e(0x28e)],_0x465279=state[_0x2da40e(0x20e)][_0x218049];if(_0x465279){const _0x490b62=_0x465279[_0x2da40e(0x2e0)](_0x205136=>_0x205136[_0x2da40e(0x1dc)]===_0x4dff33[_0x2da40e(0x1dc)]);if(_0x490b62!==-0x1){_0x465279[_0x490b62]=_0x4dff33;state['currentConversation']?.[_0x2da40e(0x1dc)]===_0x218049&&renderMessages(_0x218049);const _0x3e6ab6=state[_0x2da40e(0x196)][_0x2da40e(0x16d)](_0x10be67=>_0x10be67[_0x2da40e(0x1dc)]===_0x218049);_0x3e6ab6&&_0x3e6ab6[_0x2da40e(0x11b)]&&_0x3e6ab6[_0x2da40e(0x11b)][_0x2da40e(0x17b)]===_0x465279[_0x490b62][_0x2da40e(0x2b6)]&&(_0x3e6ab6[_0x2da40e(0x11b)][_0x2da40e(0x17b)]=_0x4dff33[_0x2da40e(0x2b6)],renderConversations());}}}),state[_0x209dfb(0x2bb)]['on'](_0x209dfb(0x1fe),({messageId:_0x24e2fe,conversationId:_0x2ed87a})=>{const _0x656525=_0x209dfb,_0xe03654=state[_0x656525(0x20e)][_0x2ed87a];if(_0xe03654){const _0x1f4ec2=_0xe03654[_0x656525(0x2e0)](_0x34c3ac=>_0x34c3ac[_0x656525(0x1dc)]===_0x24e2fe);_0x1f4ec2!==-0x1&&(_0xe03654[_0x656525(0x234)](_0x1f4ec2,0x1),state['currentConversation']?.[_0x656525(0x1dc)]===_0x2ed87a&&renderMessages(_0x2ed87a),renderConversations());}}),state[_0x209dfb(0x2bb)]['on']('messageReactionUpdated',({messageId:_0x447978,reactions:_0x2cca27,userId:_0x4febe1,emoji:_0x1f3bdd})=>{const _0x593129=_0x209dfb;for(const _0x1f7cf1 in state['messages']){const _0x6436d8=state[_0x593129(0x20e)][_0x1f7cf1],_0x2da6a4=_0x6436d8[_0x593129(0x16d)](_0x3f9a9b=>_0x3f9a9b[_0x593129(0x1dc)]===_0x447978);if(_0x2da6a4){_0x2da6a4[_0x593129(0x1b9)]=_0x2cca27;state[_0x593129(0x138)]?.[_0x593129(0x1dc)]===_0x1f7cf1&&renderMessages(_0x1f7cf1);if(_0x2da6a4[_0x593129(0x117)][_0x593129(0x1dc)]===state[_0x593129(0x184)]['id']&&_0x4febe1!==state[_0x593129(0x184)]['id']&&_0x1f3bdd&&state['currentConversation']?.[_0x593129(0x1dc)]!==_0x1f7cf1){const _0x4be005=state[_0x593129(0x1e0)][_0x593129(0x16d)](_0x1e14cb=>_0x1e14cb[_0x593129(0x1dc)]===_0x4febe1),_0x3e9374=_0x4be005?_0x4be005['username']:_0x593129(0x16c);showToast(_0x3e9374+_0x593129(0x2a1)+_0x1f3bdd,_0x593129(0x245));}break;}}});}